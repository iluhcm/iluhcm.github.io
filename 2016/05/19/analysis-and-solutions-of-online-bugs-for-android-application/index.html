<!doctype html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="2yx0JNDw3DWn3FVwl0XV9ba4wAjjbvZ3viXpvjGwBa8" />













  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Android,Bug,Online,Exception," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="Android v2.5.2java.lang.OutOfMemoryError: Failed to allocate a 2560012 byte allocation with 2300136 free bytes and 2MB until OOM1234567891011121314151617181920212223java.lang.OutOfMemoryError: Failed">
<meta name="keywords" content="Android,Bug,Online,Exception">
<meta property="og:type" content="article">
<meta property="og:title" content="Android应用线上崩溃Bug分析及解决方案">
<meta property="og:url" content="http://iluhcm.com/2016/05/19/analysis-and-solutions-of-online-bugs-for-android-application/index.html">
<meta property="og:site_name" content="Xing&#39;s Blog">
<meta property="og:description" content="Android v2.5.2java.lang.OutOfMemoryError: Failed to allocate a 2560012 byte allocation with 2300136 free bytes and 2MB until OOM1234567891011121314151617181920212223java.lang.OutOfMemoryError: Failed">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2017-03-27T09:16:08.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android应用线上崩溃Bug分析及解决方案">
<meta name="twitter:description" content="Android v2.5.2java.lang.OutOfMemoryError: Failed to allocate a 2560012 byte allocation with 2300136 free bytes and 2MB until OOM1234567891011121314151617181920212223java.lang.OutOfMemoryError: Failed">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://iluhcm.com/2016/05/19/analysis-and-solutions-of-online-bugs-for-android-application/"/>





  <title>Android应用线上崩溃Bug分析及解决方案 | Xing's Blog</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?03e8bdd436b4561c8e760c9459ee8003";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xing's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">To be a better man.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://iluhcm.com/2016/05/19/analysis-and-solutions-of-online-bugs-for-android-application/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xing Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xing's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Android应用线上崩溃Bug分析及解决方案</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-19T09:23:29+08:00">
                2016-05-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/05/19/analysis-and-solutions-of-online-bugs-for-android-application/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/05/19/analysis-and-solutions-of-online-bugs-for-android-application/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="Android-v2-5-2"><a href="#Android-v2-5-2" class="headerlink" title="Android v2.5.2"></a>Android v2.5.2</h1><h2 id="java-lang-OutOfMemoryError-Failed-to-allocate-a-2560012-byte-allocation-with-2300136-free-bytes-and-2MB-until-OOM"><a href="#java-lang-OutOfMemoryError-Failed-to-allocate-a-2560012-byte-allocation-with-2300136-free-bytes-and-2MB-until-OOM" class="headerlink" title="java.lang.OutOfMemoryError: Failed to allocate a 2560012 byte allocation with 2300136 free bytes and 2MB until OOM"></a>java.lang.OutOfMemoryError: Failed to allocate a 2560012 byte allocation with 2300136 free bytes and 2MB until OOM</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.OutOfMemoryError</span>: Failed to allowcate <span class="selector-tag">a</span> <span class="number">2560012</span> byte allocation with <span class="number">2300136</span> free bytes and <span class="number">2</span>MB until OOM</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.VMRuntime</span><span class="selector-class">.newNonMovableArray</span>(Native Method)</div><div class="line">	at android<span class="selector-class">.graphics</span><span class="selector-class">.Bitmap</span><span class="selector-class">.nativeCreate</span>(Native Method)</div><div class="line">	at android<span class="selector-class">.graphics</span><span class="selector-class">.Bitmap</span><span class="selector-class">.createBitmap</span>(Bitmap<span class="selector-class">.java</span>:<span class="number">847</span>)</div><div class="line">	at android<span class="selector-class">.graphics</span><span class="selector-class">.Bitmap</span><span class="selector-class">.createBitmap</span>(Bitmap<span class="selector-class">.java</span>:<span class="number">817</span>)</div><div class="line">	at android<span class="selector-class">.graphics</span><span class="selector-class">.Bitmap</span><span class="selector-class">.createBitmap</span>(Bitmap<span class="selector-class">.java</span>:<span class="number">784</span>)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.memory</span><span class="selector-class">.BitmapPool</span><span class="selector-class">.i</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.memory</span><span class="selector-class">.BitmapPool</span><span class="selector-class">.b</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.memory</span><span class="selector-class">.BasePool</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.platform</span><span class="selector-class">.ArtDecoder</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.platform</span><span class="selector-class">.ArtDecoder</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.decoder</span><span class="selector-class">.ImageDecoder</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.decoder</span><span class="selector-class">.ImageDecoder</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.DecodeProducer</span><span class="variable">$ProgressiveDecoder</span>.c(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.DecodeProducer</span><span class="variable">$ProgressiveDecoder</span>.a(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.DecodeProducer</span><span class="variable">$ProgressiveDecoder</span>$<span class="number">1</span>.a(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.JobScheduler</span><span class="selector-class">.e</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.JobScheduler</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.JobScheduler</span>$<span class="number">1</span>.run(Unknown Source)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.ThreadPoolExecutor</span><span class="selector-class">.runWorker</span>(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">1112</span>)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.ThreadPoolExecutor</span><span class="variable">$Worker</span>.run(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">587</span>)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.core</span><span class="selector-class">.PriorityThreadFactory</span>$<span class="number">1</span>.run(Unknown Source)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.Thread</span><span class="selector-class">.run</span>(Thread<span class="selector-class">.java</span>:<span class="number">831</span>)</div></pre></td></tr></table></figure>
<p>系统版本特点：5.0以上<br>机型分布特点：华为、小米居多<br>原因分析：图片加载占用内存过多，短时间内无法释放，剩余的内存资源无法再加载更多的图片，导致OOM异常。<br>可能的解决办法：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;application</div><div class="line">	android:<span class="attribute">name</span>=<span class="string">".ParaseApplication"</span></div><div class="line">	android:<span class="attribute">allowBackup</span>=<span class="string">"true"</span></div><div class="line">	android:<span class="attribute">icon</span>=<span class="string">"@mipmap/ic_launcher"</span></div><div class="line">	android:<span class="attribute">label</span>=<span class="string">"@string/app_name"</span></div><div class="line">	android:<span class="attribute">theme</span>=<span class="string">"@style/AppTheme"</span></div><div class="line">	android:<span class="attribute">largeHeap</span>=<span class="string">"true"</span></div><div class="line">&gt;</div></pre></td></tr></table></figure>
<h2 id="java-lang-RuntimeException-Unable-to-start-activity-ComponentInfo-com-kaola-com-kaola-spring-ui-kaola-InterestedCategoryActivity-java-lang-NullPointerException-Attempt-to-read-from-field-‘com-android-server-am-ActivityStackSupervisor-com-android-server-am-ActivityRecord-mStackSupervisor’-on-a-null-object-reference"><a href="#java-lang-RuntimeException-Unable-to-start-activity-ComponentInfo-com-kaola-com-kaola-spring-ui-kaola-InterestedCategoryActivity-java-lang-NullPointerException-Attempt-to-read-from-field-‘com-android-server-am-ActivityStackSupervisor-com-android-server-am-ActivityRecord-mStackSupervisor’-on-a-null-object-reference" class="headerlink" title="java.lang.RuntimeException: Unable to start activity ComponentInfo{com.kaola/com.kaola.spring.ui.kaola.InterestedCategoryActivity}: java.lang.NullPointerException: Attempt to read from field ‘com.android.server.am.ActivityStackSupervisor com.android.server.am.ActivityRecord.mStackSupervisor’ on a null object reference"></a>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.kaola/com.kaola.spring.ui.kaola.InterestedCategoryActivity}: java.lang.NullPointerException: Attempt to read from field ‘com.android.server.am.ActivityStackSupervisor com.android.server.am.ActivityRecord.mStackSupervisor’ on a null object reference</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.RuntimeException</span>: Unable to start activity ComponentInfo&#123;com.kaola/com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.kaola</span><span class="selector-class">.InterestedCategoryActivity</span>&#125;: java<span class="selector-class">.lang</span><span class="selector-class">.NullPointerException</span>: Attempt to read from field <span class="string">'com.android.server.am.ActivityStackSupervisor com.android.server.am.ActivityRecord.mStackSupervisor'</span> on <span class="selector-tag">a</span> null <span class="selector-tag">object</span> reference</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.performLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2379</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.handleLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2441</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.access</span>$<span class="number">800</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">154</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="variable">$H</span>.handleMessage(ActivityThread<span class="selector-class">.java</span>:<span class="number">1323</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">102</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">135</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5336</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">372</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">904</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">699</span>)</div><div class="line">Caused by: java<span class="selector-class">.lang</span><span class="selector-class">.NullPointerException</span>: Attempt to read from field <span class="string">'com.android.server.am.ActivityStackSupervisor com.android.server.am.ActivityRecord.mStackSupervisor'</span> on <span class="selector-tag">a</span> null <span class="selector-tag">object</span> reference</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Parcel</span><span class="selector-class">.readException</span>(Parcel<span class="selector-class">.java</span>:<span class="number">1546</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Parcel</span><span class="selector-class">.readException</span>(Parcel<span class="selector-class">.java</span>:<span class="number">1493</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityManagerProxy</span><span class="selector-class">.convertToTranslucent</span>(ActivityManagerNative<span class="selector-class">.java</span>:<span class="number">4417</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.convertToTranslucent</span>(Activity<span class="selector-class">.java</span>:<span class="number">5469</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.EnterTransitionCoordinator</span><span class="selector-class">.prepareEnter</span>(EnterTransitionCoordinator<span class="selector-class">.java</span>:<span class="number">275</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.EnterTransitionCoordinator</span>.(EnterTransitionCoordinator<span class="selector-class">.java</span>:<span class="number">69</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityTransitionState</span><span class="selector-class">.enterReady</span>(ActivityTransitionState<span class="selector-class">.java</span>:<span class="number">181</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.performStart</span>(Activity<span class="selector-class">.java</span>:<span class="number">6011</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.performLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2342</span>)</div><div class="line">	... <span class="number">10</span> more</div><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.NullPointerException</span>: Attempt to read from field <span class="string">'com.android.server.am.ActivityStackSupervisor com.android.server.am.ActivityRecord.mStackSupervisor'</span> on <span class="selector-tag">a</span> null <span class="selector-tag">object</span> reference</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Parcel</span><span class="selector-class">.readException</span>(Parcel<span class="selector-class">.java</span>:<span class="number">1546</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Parcel</span><span class="selector-class">.readException</span>(Parcel<span class="selector-class">.java</span>:<span class="number">1493</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityManagerProxy</span><span class="selector-class">.convertToTranslucent</span>(ActivityManagerNative<span class="selector-class">.java</span>:<span class="number">4417</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.convertToTranslucent</span>(Activity<span class="selector-class">.java</span>:<span class="number">5469</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.EnterTransitionCoordinator</span><span class="selector-class">.prepareEnter</span>(EnterTransitionCoordinator<span class="selector-class">.java</span>:<span class="number">275</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.EnterTransitionCoordinator</span>.(EnterTransitionCoordinator<span class="selector-class">.java</span>:<span class="number">69</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityTransitionState</span><span class="selector-class">.enterReady</span>(ActivityTransitionState<span class="selector-class">.java</span>:<span class="number">181</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.performStart</span>(Activity<span class="selector-class">.java</span>:<span class="number">6011</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.performLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2342</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.handleLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2441</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.access</span>$<span class="number">800</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">154</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="variable">$H</span>.handleMessage(ActivityThread<span class="selector-class">.java</span>:<span class="number">1323</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">102</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">135</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5336</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">372</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">904</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">699</span>)</div></pre></td></tr></table></figure>
<p>系统版本特点：5.0以上<br>机型分布特点：全部是nubia<br>原因分析：特定机型修改了系统启动Activity的源码，导致的NPE。在<code>android.app.ActivityThread.performLaunchActivity#performLaunchActivity()</code>方法签名中并没有找到对应的Exception log。<br>解决办法：暂时规避这些特定的机型。</p>
<h2 id="java-lang-OutOfMemoryError-Failed-to-allocate-a-2560012-byte-allocation-with-2300136-free-bytes-and-2MB-until-OOM-1"><a href="#java-lang-OutOfMemoryError-Failed-to-allocate-a-2560012-byte-allocation-with-2300136-free-bytes-and-2MB-until-OOM-1" class="headerlink" title="java.lang.OutOfMemoryError: Failed to allocate a 2560012 byte allocation with 2300136 free bytes and 2MB until OOM"></a>java.lang.OutOfMemoryError: Failed to allocate a 2560012 byte allocation with 2300136 free bytes and 2MB until OOM</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.OutOfMemoryError</span>: Failed to allocate <span class="selector-tag">a</span> <span class="number">2560012</span> byte allocation with <span class="number">2300136</span> free bytes and <span class="number">2</span>MB until OOM</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.VMRuntime</span><span class="selector-class">.newNonMovableArray</span>(Native Method)</div><div class="line">	at android<span class="selector-class">.graphics</span><span class="selector-class">.Bitmap</span><span class="selector-class">.nativeCreate</span>(Native Method)</div><div class="line">	at android<span class="selector-class">.graphics</span><span class="selector-class">.Bitmap</span><span class="selector-class">.createBitmap</span>(Bitmap<span class="selector-class">.java</span>:<span class="number">847</span>)</div><div class="line">	at android<span class="selector-class">.graphics</span><span class="selector-class">.Bitmap</span><span class="selector-class">.createBitmap</span>(Bitmap<span class="selector-class">.java</span>:<span class="number">817</span>)</div><div class="line">	at android<span class="selector-class">.graphics</span><span class="selector-class">.Bitmap</span><span class="selector-class">.createBitmap</span>(Bitmap<span class="selector-class">.java</span>:<span class="number">784</span>)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.memory</span><span class="selector-class">.BitmapPool</span><span class="selector-class">.i</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.memory</span><span class="selector-class">.BitmapPool</span><span class="selector-class">.b</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.memory</span><span class="selector-class">.BasePool</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.platform</span><span class="selector-class">.ArtDecoder</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.platform</span><span class="selector-class">.ArtDecoder</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.decoder</span><span class="selector-class">.ImageDecoder</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.decoder</span><span class="selector-class">.ImageDecoder</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.DecodeProducer</span><span class="variable">$ProgressiveDecoder</span>.c(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.DecodeProducer</span><span class="variable">$ProgressiveDecoder</span>.a(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.DecodeProducer</span><span class="variable">$ProgressiveDecoder</span>$<span class="number">1</span>.a(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.JobScheduler</span><span class="selector-class">.e</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.JobScheduler</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.JobScheduler</span>$<span class="number">1</span>.run(Unknown Source)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.ThreadPoolExecutor</span><span class="selector-class">.runWorker</span>(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">1112</span>)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.ThreadPoolExecutor</span><span class="variable">$Worker</span>.run(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">587</span>)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.core</span><span class="selector-class">.PriorityThreadFactory</span>$<span class="number">1</span>.run(Unknown Source)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.Thread</span><span class="selector-class">.run</span>(Thread<span class="selector-class">.java</span>:<span class="number">831</span>)</div></pre></td></tr></table></figure>
<p>系统版本特点：4.3以上，5系统占大头<br>机型分布特点：华为、小米<br>原因分析：同1.</p>
<h2 id="java-lang-NoClassDefFoundError-com-facebook-imagepipeline-memory-NativeMemoryChunk"><a href="#java-lang-NoClassDefFoundError-com-facebook-imagepipeline-memory-NativeMemoryChunk" class="headerlink" title="java.lang.NoClassDefFoundError: com/facebook/imagepipeline/memory/NativeMemoryChunk"></a>java.lang.NoClassDefFoundError: com/facebook/imagepipeline/memory/NativeMemoryChunk</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.NoClassDefFoundError</span>: com/facebook/imagepipeline/memory/NativeMemoryChunk</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.memory</span><span class="selector-class">.NativeMemoryChunkPool</span><span class="selector-class">.i</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.memory</span><span class="selector-class">.NativeMemoryChunkPool</span><span class="selector-class">.b</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.memory</span><span class="selector-class">.BasePool</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.memory</span><span class="selector-class">.NativePooledByteBufferOutputStream</span>.(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.memory</span><span class="selector-class">.NativePooledByteBufferFactory</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.memory</span><span class="selector-class">.NativePooledByteBufferFactory</span><span class="selector-class">.b</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.LocalFetchProducer</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.LocalFetchProducer</span><span class="selector-class">.b</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.LocalResourceFetchProducer</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.LocalFetchProducer</span>$<span class="number">1</span>.d(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.imagepipeline</span><span class="selector-class">.producers</span><span class="selector-class">.LocalFetchProducer</span>$<span class="number">1</span>.c(Unknown Source)</div><div class="line">	at com<span class="selector-class">.facebook</span><span class="selector-class">.common</span><span class="selector-class">.executors</span><span class="selector-class">.StatefulRunnable</span><span class="selector-class">.run</span>(Unknown Source)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.ThreadPoolExecutor</span><span class="selector-class">.runWorker</span>(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">1112</span>)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.ThreadPoolExecutor</span><span class="variable">$Worker</span>.run(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">587</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.Thread</span><span class="selector-class">.run</span>(Thread<span class="selector-class">.java</span>:<span class="number">841</span>)</div></pre></td></tr></table></figure>
<p>系统版本特点：4.2.1-4.4.4<br>机型分布特点：华为、三星N9008、小米3<br>原因分析：<code>libmemchunk.so</code>加载失败，与<code>NELoginJni</code>有些类似<br>解决办法：</p>
<ol>
<li>把<code>libmemchunk.so</code>放到armeabi-v7a目录下</li>
<li><a href="https://github.com/facebook/fresco/blob/master/fbcore/src/main/java/com/facebook/common/internal/proguard_annotations.pro" target="_blank" rel="noopener">https://github.com/facebook/fresco/blob/master/fbcore/src/main/java/com/facebook/common/internal/proguard_annotations.pro</a></li>
<li>更新fresco到最新版本</li>
</ol>
<p>Ref：<br><a href="https://github.com/facebook/fresco/issues/410" target="_blank" rel="noopener">https://github.com/facebook/fresco/issues/410</a></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"># <span class="type">Keep</span> our interfaces so they can be used by other <span class="type">ProGuard</span> rules.</div><div class="line"># <span class="type">See</span> http:<span class="comment">//sourceforge.net/p/proguard/bugs/466/</span></div><div class="line">-keep,allowobfuscation <span class="meta">@interface</span> com.facebook.common.internal.<span class="type">DoNotStrip</span></div><div class="line"></div><div class="line"># <span class="type">Do</span> not strip any method/<span class="class"><span class="keyword">class</span> <span class="title">that</span> <span class="title">is</span> <span class="title">annotated</span> <span class="keyword">with</span> <span class="title">@DoNotStrip</span></span></div><div class="line">-keep <span class="meta">@com</span>.facebook.common.internal.<span class="type">DoNotStrip</span> <span class="class"><span class="keyword">class</span> <span class="title">*</span></span></div><div class="line">-keepclassmembers <span class="class"><span class="keyword">class</span> <span class="title">*</span> </span>&#123;</div><div class="line">    <span class="meta">@com</span>.facebook.common.internal.<span class="type">DoNotStrip</span> *;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="java-lang-RuntimeException-Unable-to-start-activity-ComponentInfo-com-kaola-com-kaola-spring-ui-goodsdetail-SkuPopWindowActivity-java-lang-NumberFormatException-Invalid-double-“5-712”"><a href="#java-lang-RuntimeException-Unable-to-start-activity-ComponentInfo-com-kaola-com-kaola-spring-ui-goodsdetail-SkuPopWindowActivity-java-lang-NumberFormatException-Invalid-double-“5-712”" class="headerlink" title="java.lang.RuntimeException: Unable to start activity ComponentInfo{com.kaola/com.kaola.spring.ui.goodsdetail.SkuPopWindowActivity}: java.lang.NumberFormatException: Invalid double: “5,712”"></a>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.kaola/com.kaola.spring.ui.goodsdetail.SkuPopWindowActivity}: java.lang.NumberFormatException: Invalid double: “5,712”</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.RuntimeException</span>: Unable to start activity ComponentInfo&#123;com.kaola/com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.goodsdetail</span><span class="selector-class">.SkuPopWindowActivity</span>&#125;: java<span class="selector-class">.lang</span><span class="selector-class">.NumberFormatException</span>: Invalid double: <span class="string">"5,712"</span></div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.performLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2444</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.handleLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2504</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.access</span>$<span class="number">900</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">165</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="variable">$H</span>.handleMessage(ActivityThread<span class="selector-class">.java</span>:<span class="number">1368</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">102</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">150</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5546</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Native Method)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">792</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">682</span>)</div><div class="line">Caused by: java<span class="selector-class">.lang</span><span class="selector-class">.NumberFormatException</span>: Invalid double: <span class="string">"5,712"</span></div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.StringToReal</span><span class="selector-class">.invalidReal</span>(StringToReal<span class="selector-class">.java</span>:<span class="number">63</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.StringToReal</span><span class="selector-class">.initialParse</span>(StringToReal<span class="selector-class">.java</span>:<span class="number">164</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.StringToReal</span><span class="selector-class">.parseDouble</span>(StringToReal<span class="selector-class">.java</span>:<span class="number">282</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.Double</span><span class="selector-class">.parseDouble</span>(Double<span class="selector-class">.java</span>:<span class="number">301</span>)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.common</span><span class="selector-class">.utils</span><span class="selector-class">.w</span><span class="selector-class">.c</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.goodsdetail</span><span class="selector-class">.SkuPopWindowActivity</span><span class="selector-class">.f</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.goodsdetail</span><span class="selector-class">.SkuPopWindowActivity</span><span class="selector-class">.b</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.goodsdetail</span><span class="selector-class">.SkuPopWindowActivity</span><span class="selector-class">.d</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.goodsdetail</span><span class="selector-class">.SkuPopWindowActivity</span><span class="selector-class">.onCreate</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.performCreate</span>(Activity<span class="selector-class">.java</span>:<span class="number">6367</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Instrumentation</span><span class="selector-class">.callActivityOnCreate</span>(Instrumentation<span class="selector-class">.java</span>:<span class="number">1110</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.performLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2397</span>)</div><div class="line">	... <span class="number">9</span> more</div><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.NumberFormatException</span>: Invalid double: <span class="string">"5,712"</span></div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.StringToReal</span><span class="selector-class">.invalidReal</span>(StringToReal<span class="selector-class">.java</span>:<span class="number">63</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.StringToReal</span><span class="selector-class">.initialParse</span>(StringToReal<span class="selector-class">.java</span>:<span class="number">164</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.StringToReal</span><span class="selector-class">.parseDouble</span>(StringToReal<span class="selector-class">.java</span>:<span class="number">282</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.Double</span><span class="selector-class">.parseDouble</span>(Double<span class="selector-class">.java</span>:<span class="number">301</span>)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.common</span><span class="selector-class">.utils</span><span class="selector-class">.w</span><span class="selector-class">.c</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.goodsdetail</span><span class="selector-class">.SkuPopWindowActivity</span><span class="selector-class">.f</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.goodsdetail</span><span class="selector-class">.SkuPopWindowActivity</span><span class="selector-class">.b</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.goodsdetail</span><span class="selector-class">.SkuPopWindowActivity</span><span class="selector-class">.d</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.goodsdetail</span><span class="selector-class">.SkuPopWindowActivity</span><span class="selector-class">.onCreate</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.performCreate</span>(Activity<span class="selector-class">.java</span>:<span class="number">6367</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Instrumentation</span><span class="selector-class">.callActivityOnCreate</span>(Instrumentation<span class="selector-class">.java</span>:<span class="number">1110</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.performLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2397</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.handleLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2504</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.access</span>$<span class="number">900</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">165</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="variable">$H</span>.handleMessage(ActivityThread<span class="selector-class">.java</span>:<span class="number">1368</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">102</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">150</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5546</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Native Method)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">792</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">682</span>)</div></pre></td></tr></table></figure>
<p>系统版本特点：4.3以上<br>机型分布特点：华为、三星N9008、小米3<br>原因分析：将String转换成Double的时候，不符合转换预设的格式，导致转换出错。这个转换跟区域有关<br>解决办法：指定区域为<code>Locale.CHINA</code>。</p>
<h2 id="java-lang-IllegalArgumentException-pointerIndex-out-of-range"><a href="#java-lang-IllegalArgumentException-pointerIndex-out-of-range" class="headerlink" title="java.lang.IllegalArgumentException: pointerIndex out of range"></a>java.lang.IllegalArgumentException: pointerIndex out of range</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.IllegalArgumentException</span>: pointerIndex out of range</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.MotionEvent</span><span class="selector-class">.nativeGetAxisValue</span>(Native Method)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.MotionEvent</span><span class="selector-class">.getX</span>(MotionEvent<span class="selector-class">.java</span>:<span class="number">1979</span>)</div><div class="line">	at android<span class="selector-class">.support</span><span class="selector-class">.v4</span><span class="selector-class">.view</span><span class="selector-class">.x</span><span class="selector-class">.c</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.support</span><span class="selector-class">.v4</span><span class="selector-class">.view</span><span class="selector-class">.w</span><span class="variable">$b</span>.c(Unknown Source)</div><div class="line">	at android<span class="selector-class">.support</span><span class="selector-class">.v4</span><span class="selector-class">.view</span><span class="selector-class">.w</span><span class="selector-class">.c</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.support</span><span class="selector-class">.v4</span><span class="selector-class">.view</span><span class="selector-class">.ViewPager</span><span class="selector-class">.onInterceptTouchEvent</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">1913</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTransformedTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2348</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2042</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTransformedTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2348</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2042</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTransformedTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2348</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2042</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTransformedTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2348</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2042</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTransformedTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2348</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2042</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTransformedTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2348</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2042</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTransformedTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2348</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2042</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTransformedTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2348</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2042</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTransformedTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2348</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchTouchEvent</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2042</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.policy</span><span class="selector-class">.impl</span><span class="selector-class">.PhoneWindow</span><span class="variable">$DecorView</span>.superDispatchTouchEvent(PhoneWindow<span class="selector-class">.java</span>:<span class="number">2164</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.policy</span><span class="selector-class">.impl</span><span class="selector-class">.PhoneWindow</span><span class="selector-class">.superDispatchTouchEvent</span>(PhoneWindow<span class="selector-class">.java</span>:<span class="number">1596</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.dispatchTouchEvent</span>(Activity<span class="selector-class">.java</span>:<span class="number">2527</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.policy</span><span class="selector-class">.impl</span><span class="selector-class">.PhoneWindow</span><span class="variable">$DecorView</span>.dispatchTouchEvent(PhoneWindow<span class="selector-class">.java</span>:<span class="number">2112</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.dispatchPointerEvent</span>(View<span class="selector-class">.java</span>:<span class="number">8015</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$ViewPostImeInputStage</span>.processPointerEvent(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4632</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$ViewPostImeInputStage</span>.onProcess(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4503</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$InputStage</span>.deliver(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4023</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$InputStage</span>.onDeliverToNext(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4073</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$InputStage</span>.forward(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4042</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$AsyncInputStage</span>.forward(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4149</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$InputStage</span>.apply(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4050</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$AsyncInputStage</span>.apply(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4206</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$InputStage</span>.deliver(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4023</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$InputStage</span>.onDeliverToNext(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4073</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$InputStage</span>.forward(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4042</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$InputStage</span>.apply(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4050</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$InputStage</span>.deliver(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4023</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="selector-class">.deliverInputEvent</span>(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">6331</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="selector-class">.doProcessInputEvents</span>(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">6293</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="selector-class">.enqueueInputEvent</span>(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">6247</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$WindowInputEventReceiver</span>.onInputEvent(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">6479</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.InputEventReceiver</span><span class="selector-class">.dispatchInputEvent</span>(InputEventReceiver<span class="selector-class">.java</span>:<span class="number">185</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.InputEventReceiver</span><span class="selector-class">.nativeConsumeBatchedInputEvents</span>(Native Method)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.InputEventReceiver</span><span class="selector-class">.consumeBatchedInputEvents</span>(InputEventReceiver<span class="selector-class">.java</span>:<span class="number">176</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="selector-class">.doConsumeBatchedInput</span>(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">6441</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$ConsumeBatchedInputRunnable</span>.run(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">6507</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.Choreographer</span><span class="variable">$CallbackRecord</span>.run(Choreographer<span class="selector-class">.java</span>:<span class="number">788</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.Choreographer</span><span class="selector-class">.doCallbacks</span>(Choreographer<span class="selector-class">.java</span>:<span class="number">591</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.Choreographer</span><span class="selector-class">.doFrame</span>(Choreographer<span class="selector-class">.java</span>:<span class="number">558</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.Choreographer</span><span class="variable">$FrameDisplayEventReceiver</span>.run(Choreographer<span class="selector-class">.java</span>:<span class="number">774</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.handleCallback</span>(Handler<span class="selector-class">.java</span>:<span class="number">808</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">103</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">193</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5351</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invokeNative</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">515</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">829</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">645</span>)</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.NativeStart</span><span class="selector-class">.main</span>(Native Method)</div></pre></td></tr></table></figure>
<p>系统版本特点：4.4.2以上<br>机型分布特点：华为、三星、小米<br>原因分析：调用<code>MotionEvent#getX();</code>或<code>MotionEvent#getX(int);</code>方法的时候系统找不到对应的pointerIndex，导致越界。<br>解决办法：</p>
<ul>
<li><a href="https://github.com/chrisbanes/PhotoView/issues/31" target="_blank" rel="noopener">https://github.com/chrisbanes/PhotoView/issues/31</a></li>
</ul>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/** Custom your own ViewPager to extends support ViewPager. java source: */</span></div><div class="line"><span class="comment">/** Created by azi on 2013-6-21.  */</span></div><div class="line"></div><div class="line"><span class="keyword">package</span> com.chaokuadi.android.support.view;</div><div class="line"></div><div class="line"><span class="keyword">import</span> android.content.Context;</div><div class="line"><span class="keyword">import</span> android.util.AttributeSet;</div><div class="line"><span class="keyword">import</span> android.view.MotionEvent;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewPagerFixed</span> <span class="keyword">extends</span> <span class="title">android</span>.<span class="title">support</span>.<span class="title">v4</span>.<span class="title">view</span>.<span class="title">ViewPager</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ViewPagerFixed</span><span class="params">(Context context)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>(context);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ViewPagerFixed</span><span class="params">(Context context, AttributeSet attrs)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>(context, attrs);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">boolean</span> <span class="title">onTouchEvent</span><span class="params">(MotionEvent ev)</span> </span>&#123;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="function"><span class="keyword">return</span> <span class="keyword">super</span>.<span class="title">onTouchEvent</span><span class="params">(ev)</span></span>;</div><div class="line">        &#125; <span class="keyword">catch</span> (IllegalArgumentException ex) &#123;</div><div class="line">            ex.printStackTrace();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">boolean</span> <span class="title">onInterceptTouchEvent</span><span class="params">(MotionEvent ev)</span> </span>&#123;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="function"><span class="keyword">return</span> <span class="keyword">super</span>.<span class="title">onInterceptTouchEvent</span><span class="params">(ev)</span></span>;</div><div class="line">        &#125; <span class="keyword">catch</span> (IllegalArgumentException ex) &#123;</div><div class="line">            ex.printStackTrace();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><a href="http://stackoverflow.com/questions/6919292/pointerindex-out-of-range-android-multitouch" target="_blank" rel="noopener">http://stackoverflow.com/questions/6919292/pointerindex-out-of-range-android-multitouch</a></li>
</ul>
<p>有两个Pointer时判断<code>event.getPointerCount() &gt;= 2</code></p>
<ul>
<li><a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0501/2822.html" target="_blank" rel="noopener">http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0501/2822.html</a></li>
</ul>
<p>在我们的工程中，很有可能也是出现在这个<code>com.kaola.framework.ui.photoview.PhotoView</code>里。</p>
<p>在使用的地方也找到了下面类似的方法签名<code>MotionEventCompat#getX(MotionEvent, int)</code></p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Call &#123;<span class="doctag">@link</span> MotionEvent#getX(int)&#125;.</div><div class="line"> * If running on a pre-&#123;<span class="doctag">@link</span> android.os.Build.VERSION_CODES#ECLAIR&#125; device,</div><div class="line"> * &#123;<span class="doctag">@link</span> IndexOutOfBoundsException&#125; is thrown.</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">float</span> <span class="title">getX</span><span class="params">(MotionEvent event, <span class="keyword">int</span> pointerIndex)</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">return</span> IMPL.<span class="title">getX</span><span class="params">(event, pointerIndex)</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="java-lang-UnsatisfiedLinkError-dlopen-failed-“-data-data-com-kaola-app-lib-libnelogin-so”-is-too-small-to-be-an-ELF-executable"><a href="#java-lang-UnsatisfiedLinkError-dlopen-failed-“-data-data-com-kaola-app-lib-libnelogin-so”-is-too-small-to-be-an-ELF-executable" class="headerlink" title="java.lang.UnsatisfiedLinkError: dlopen failed: “/data/data/com.kaola/app_lib/libnelogin.so” is too small to be an ELF executable"></a>java.lang.UnsatisfiedLinkError: dlopen failed: “/data/data/com.kaola/app_lib/libnelogin.so” is too small to be an ELF executable</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.UnsatisfiedLinkError</span>: dlopen failed: <span class="string">"/data/data/com.kaola/app_lib/libnelogin.so"</span> is too small to be an ELF executable</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.Runtime</span><span class="selector-class">.load</span>(Runtime<span class="selector-class">.java</span>:<span class="number">333</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.System</span><span class="selector-class">.load</span>(System<span class="selector-class">.java</span>:<span class="number">541</span>)</div><div class="line">	at com<span class="selector-class">.netease</span><span class="selector-class">.loginapi</span><span class="selector-class">.util</span><span class="selector-class">.e</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.netease</span><span class="selector-class">.loginapi</span><span class="selector-class">.util</span><span class="selector-class">.NELoginJni</span>.(Unknown Source)</div><div class="line">	at com<span class="selector-class">.netease</span><span class="selector-class">.loginapi</span><span class="selector-class">.NEConfig</span>.(Unknown Source)</div><div class="line">	at com<span class="selector-class">.netease</span><span class="selector-class">.loginapi</span><span class="selector-class">.NELoginAPIFactory</span><span class="selector-class">.createAPI</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.app</span><span class="selector-class">.HTApplication</span><span class="selector-class">.onCreate</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Instrumentation</span><span class="selector-class">.callApplicationOnCreate</span>(Instrumentation<span class="selector-class">.java</span>:<span class="number">1009</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.handleBindApplication</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">4613</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.access</span>$<span class="number">1800</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">139</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="variable">$H</span>.handleMessage(ActivityThread<span class="selector-class">.java</span>:<span class="number">1316</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">102</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">136</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5314</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invokeNative</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">515</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">864</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">680</span>)</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.NativeStart</span><span class="selector-class">.main</span>(Native Method)</div></pre></td></tr></table></figure>
<p>系统版本特点：4.3.1以上<br>机型分布特点：魅族&gt;小米、华为、oppo等<br>原因分析：在调用网易登录SDK的时候，找不到适配相关系统架构（x86、x86_64、armv7等）的so包，目前仅提供x86架构的so包，遇到其他CPU架构机子的时候可能会报这个问题。<br>解决办法：提供全系列的so包，但不现实。</p>
<h2 id="java-lang-ExceptionInInitializerError"><a href="#java-lang-ExceptionInInitializerError" class="headerlink" title="java.lang.ExceptionInInitializerError"></a>java.lang.ExceptionInInitializerError</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.ExceptionInInitializerError</span></div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.tauth</span><span class="selector-class">.Tencent</span><span class="selector-class">.createInstance</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.netease</span><span class="selector-class">.oauth</span><span class="selector-class">.a</span>.(Unknown Source)</div><div class="line">	at com<span class="selector-class">.netease</span><span class="selector-class">.oauth</span><span class="selector-class">.a</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.app</span><span class="selector-class">.HTApplication</span><span class="selector-class">.onCreate</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Instrumentation</span><span class="selector-class">.callApplicationOnCreate</span>(Instrumentation<span class="selector-class">.java</span>:<span class="number">1007</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.handleBindApplication</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">4564</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.access</span>$<span class="number">1500</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">151</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="variable">$H</span>.handleMessage(ActivityThread<span class="selector-class">.java</span>:<span class="number">1402</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">110</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">193</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5322</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invokeNative</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">515</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">829</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">645</span>)</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.NativeStart</span><span class="selector-class">.main</span>(Native Method)</div><div class="line">Caused by: java<span class="selector-class">.lang</span><span class="selector-class">.IllegalArgumentException</span>: Invalid path: /storage/sdcard0</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.StatFs</span><span class="selector-class">.doStat</span>(StatFs<span class="selector-class">.java</span>:<span class="number">46</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.StatFs</span>.(StatFs<span class="selector-class">.java</span>:<span class="number">39</span>)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.open</span><span class="selector-class">.a</span><span class="selector-class">.d</span><span class="variable">$c</span>.b(Unknown Source)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.open</span><span class="selector-class">.a</span><span class="selector-class">.d</span><span class="variable">$b</span>.b(Unknown Source)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.open</span><span class="selector-class">.a</span><span class="selector-class">.f</span><span class="selector-class">.c</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.open</span><span class="selector-class">.a</span><span class="selector-class">.f</span>.(Unknown Source)</div><div class="line">	... <span class="number">16</span> more</div><div class="line">Caused by: libcore<span class="selector-class">.io</span><span class="selector-class">.ErrnoException</span>: statvfs failed: ENOTCONN (Transport endpoint is not connected)</div><div class="line">	at libcore<span class="selector-class">.io</span><span class="selector-class">.Posix</span><span class="selector-class">.statvfs</span>(Native Method)</div><div class="line">	at libcore<span class="selector-class">.io</span><span class="selector-class">.ForwardingOs</span><span class="selector-class">.statvfs</span>(ForwardingOs<span class="selector-class">.java</span>:<span class="number">132</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.StatFs</span><span class="selector-class">.doStat</span>(StatFs<span class="selector-class">.java</span>:<span class="number">44</span>)</div><div class="line">	... <span class="number">21</span> more</div><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.IllegalArgumentException</span>: Invalid path: /storage/sdcard0</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.StatFs</span><span class="selector-class">.doStat</span>(StatFs<span class="selector-class">.java</span>:<span class="number">46</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.StatFs</span>.(StatFs<span class="selector-class">.java</span>:<span class="number">39</span>)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.open</span><span class="selector-class">.a</span><span class="selector-class">.d</span><span class="variable">$c</span>.b(Unknown Source)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.open</span><span class="selector-class">.a</span><span class="selector-class">.d</span><span class="variable">$b</span>.b(Unknown Source)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.open</span><span class="selector-class">.a</span><span class="selector-class">.f</span><span class="selector-class">.c</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.open</span><span class="selector-class">.a</span><span class="selector-class">.f</span>.(Unknown Source)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.tauth</span><span class="selector-class">.Tencent</span><span class="selector-class">.createInstance</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.netease</span><span class="selector-class">.oauth</span><span class="selector-class">.a</span>.(Unknown Source)</div><div class="line">	at com<span class="selector-class">.netease</span><span class="selector-class">.oauth</span><span class="selector-class">.a</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.app</span><span class="selector-class">.HTApplication</span><span class="selector-class">.onCreate</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Instrumentation</span><span class="selector-class">.callApplicationOnCreate</span>(Instrumentation<span class="selector-class">.java</span>:<span class="number">1007</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.handleBindApplication</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">4564</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.access</span>$<span class="number">1500</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">151</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="variable">$H</span>.handleMessage(ActivityThread<span class="selector-class">.java</span>:<span class="number">1402</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">110</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">193</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5322</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invokeNative</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">515</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">829</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">645</span>)</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.NativeStart</span><span class="selector-class">.main</span>(Native Method)</div><div class="line">Caused by: libcore<span class="selector-class">.io</span><span class="selector-class">.ErrnoException</span>: statvfs failed: ENOTCONN (Transport endpoint is not connected)</div><div class="line">	at libcore<span class="selector-class">.io</span><span class="selector-class">.Posix</span><span class="selector-class">.statvfs</span>(Native Method)</div><div class="line">	at libcore<span class="selector-class">.io</span><span class="selector-class">.ForwardingOs</span><span class="selector-class">.statvfs</span>(ForwardingOs<span class="selector-class">.java</span>:<span class="number">132</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.StatFs</span><span class="selector-class">.doStat</span>(StatFs<span class="selector-class">.java</span>:<span class="number">44</span>)</div><div class="line">	... <span class="number">21</span> more</div><div class="line">libcore<span class="selector-class">.io</span><span class="selector-class">.ErrnoException</span>: statvfs failed: ENOTCONN (Transport endpoint is not connected)</div><div class="line">	at libcore<span class="selector-class">.io</span><span class="selector-class">.Posix</span><span class="selector-class">.statvfs</span>(Native Method)</div><div class="line">	at libcore<span class="selector-class">.io</span><span class="selector-class">.ForwardingOs</span><span class="selector-class">.statvfs</span>(ForwardingOs<span class="selector-class">.java</span>:<span class="number">132</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.StatFs</span><span class="selector-class">.doStat</span>(StatFs<span class="selector-class">.java</span>:<span class="number">44</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.StatFs</span>.(StatFs<span class="selector-class">.java</span>:<span class="number">39</span>)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.open</span><span class="selector-class">.a</span><span class="selector-class">.d</span><span class="variable">$c</span>.b(Unknown Source)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.open</span><span class="selector-class">.a</span><span class="selector-class">.d</span><span class="variable">$b</span>.b(Unknown Source)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.open</span><span class="selector-class">.a</span><span class="selector-class">.f</span><span class="selector-class">.c</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.open</span><span class="selector-class">.a</span><span class="selector-class">.f</span>.(Unknown Source)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.tauth</span><span class="selector-class">.Tencent</span><span class="selector-class">.createInstance</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.netease</span><span class="selector-class">.oauth</span><span class="selector-class">.a</span>.(Unknown Source)</div><div class="line">	at com<span class="selector-class">.netease</span><span class="selector-class">.oauth</span><span class="selector-class">.a</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.app</span><span class="selector-class">.HTApplication</span><span class="selector-class">.onCreate</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Instrumentation</span><span class="selector-class">.callApplicationOnCreate</span>(Instrumentation<span class="selector-class">.java</span>:<span class="number">1007</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.handleBindApplication</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">4564</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.access</span>$<span class="number">1500</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">151</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="variable">$H</span>.handleMessage(ActivityThread<span class="selector-class">.java</span>:<span class="number">1402</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">110</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">193</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5322</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invokeNative</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">515</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">829</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">645</span>)</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.NativeStart</span><span class="selector-class">.main</span>(Native Method)</div></pre></td></tr></table></figure>
<p>系统版本特点：4.4.2和4.4.4<br>机型分布特点：华为、htc、dakele、酷派<br>原因分析：腾讯登录sdk问题。猜测是他们用<code>StatFs</code>获取sd卡文件系统信息的时候出问题。  </p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="function">StructStatVfs <span class="title">doStat</span><span class="params">(String path)</span> </span>&#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        <span class="function"><span class="keyword">return</span> Os.<span class="title">statvfs</span><span class="params">(path)</span></span>;</div><div class="line">    &#125; <span class="keyword">catch</span> (ErrnoException e) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Invalid path: "</span> + path, e);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>解决办法：更新sdk</p>
<p>Ref：<a href="https://github.com/paypal/PayPal-Android-SDK/issues/77" target="_blank" rel="noopener">https://github.com/paypal/PayPal-Android-SDK/issues/77</a></p>
<h2 id="java-lang-RuntimeException-Unable-to-start-receiver-com-kaola-app-TimeChangeListener-java-lang-SecurityException-Permission-Denial-get-set-setting-for-user-asks-to-run-as-user-0-but-is-calling-from-user-100-this-requires-android-permission-INTERACT-ACROSS-USERS-FULL"><a href="#java-lang-RuntimeException-Unable-to-start-receiver-com-kaola-app-TimeChangeListener-java-lang-SecurityException-Permission-Denial-get-set-setting-for-user-asks-to-run-as-user-0-but-is-calling-from-user-100-this-requires-android-permission-INTERACT-ACROSS-USERS-FULL" class="headerlink" title="java.lang.RuntimeException: Unable to start receiver com.kaola.app.TimeChangeListener: java.lang.SecurityException: Permission Denial: get/set setting for user asks to run as user 0 but is calling from user 100; this requires android.permission.INTERACT_ACROSS_USERS_FULL"></a>java.lang.RuntimeException: Unable to start receiver com.kaola.app.TimeChangeListener: java.lang.SecurityException: Permission Denial: get/set setting for user asks to run as user 0 but is calling from user 100; this requires android.permission.INTERACT_ACROSS_USERS_FULL</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">java.lang.RuntimeException: Unable <span class="keyword">to</span> start receiver com.kaola.app.TimeChangeListener: java.lang.SecurityException: Permission Denial: get/<span class="builtin-name">set</span> setting <span class="keyword">for</span><span class="built_in"> user </span>asks <span class="keyword">to</span> <span class="builtin-name">run</span> as<span class="built_in"> user </span>0 but is calling <span class="keyword">from</span><span class="built_in"> user </span>100; this requires android.permission.INTERACT_ACROSS_USERS_FULL</div><div class="line">	at android.app.ActivityThread.handleReceiver(ActivityThread.java:3641)</div><div class="line">	at android.app.ActivityThread.access<span class="variable">$2000</span>(ActivityThread.java:221)</div><div class="line">	at android.app.ActivityThread<span class="variable">$H</span>.handleMessage(ActivityThread.java:1876)</div><div class="line">	at android.os.Handler.dispatchMessage(Handler.java:102)</div><div class="line">	at android.os.Looper.loop(Looper.java:158)</div><div class="line">	at android.app.ActivityThread.main(ActivityThread.java:7224)</div><div class="line">	at java.lang.reflect.Method.invoke(Native Method)</div><div class="line">	at com.android.internal.os.ZygoteInit<span class="variable">$MethodAndArgsCaller</span>.<span class="builtin-name">run</span>(ZygoteInit.java:1230)</div><div class="line">	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)</div><div class="line">Caused by: java.lang.SecurityException: Permission Denial: get/<span class="builtin-name">set</span> setting <span class="keyword">for</span><span class="built_in"> user </span>asks <span class="keyword">to</span> <span class="builtin-name">run</span> as<span class="built_in"> user </span>0 but is calling <span class="keyword">from</span><span class="built_in"> user </span>100; this requires android.permission.INTERACT_ACROSS_USERS_FULL</div><div class="line">	at android.os.Parcel.readException(Parcel.java:1620)</div><div class="line">	at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:183)</div><div class="line">	at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:135)</div><div class="line">	at android.content.ContentProviderProxy.call(ContentProviderNative.java:646)</div><div class="line">	at android.provider.Settings<span class="variable">$NameValueCache</span>.getStringForUser(Settings.java:1505)</div><div class="line">	at android.provider.Settings<span class="variable">$Secure</span>.getStringForUser(Settings.java:8489)</div><div class="line">	at com.netease.mobsecurity.factory.JNIFactory.w6e685a9adf5af10b(Native Method)</div><div class="line">	at com.netease.mobsecurity.factory.a.a(Unknown Source)</div><div class="line">	at com.netease.mobsecurity.impl.getInfo.a.a(Unknown Source)</div><div class="line">	at com.netease.mobsecurity.interfacejni.SecruityInfo.getSecInfo(Unknown Source)</div><div class="line">	at com.kaola.common.utils.i.b(Unknown Source)</div><div class="line">	at com.kaola.spring.common.net.j.a(Unknown Source)</div><div class="line">	at com.kaola.spring.common.net.a.a(Unknown Source)</div><div class="line">	at com.kaola.spring.common.net.a.a(Unknown Source)</div><div class="line">	at com.kaola.spring.common.net.a.a(Unknown Source)</div><div class="line">	at com.kaola.app.TimeChangeListener.onReceive(Unknown Source)</div><div class="line">	at android.app.ActivityThread.handleReceiver(ActivityThread.java:3634)</div><div class="line">	<span class="built_in">..</span>. 8 more</div><div class="line">java.lang.SecurityException: Permission Denial: get/<span class="builtin-name">set</span> setting <span class="keyword">for</span><span class="built_in"> user </span>asks <span class="keyword">to</span> <span class="builtin-name">run</span> as<span class="built_in"> user </span>0 but is calling <span class="keyword">from</span><span class="built_in"> user </span>100; this requires android.permission.INTERACT_ACROSS_USERS_FULL</div><div class="line">	at android.os.Parcel.readException(Parcel.java:1620)</div><div class="line">	at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:183)</div><div class="line">	at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:135)</div><div class="line">	at android.content.ContentProviderProxy.call(ContentProviderNative.java:646)</div><div class="line">	at android.provider.Settings<span class="variable">$NameValueCache</span>.getStringForUser(Settings.java:1505)</div><div class="line">	at android.provider.Settings<span class="variable">$Secure</span>.getStringForUser(Settings.java:8489)</div><div class="line">	at com.netease.mobsecurity.factory.JNIFactory.w6e685a9adf5af10b(Native Method)</div><div class="line">	at com.netease.mobsecurity.factory.a.a(Unknown Source)</div><div class="line">	at com.netease.mobsecurity.impl.getInfo.a.a(Unknown Source)</div><div class="line">	at com.netease.mobsecurity.interfacejni.SecruityInfo.getSecInfo(Unknown Source)</div><div class="line">	at com.kaola.common.utils.i.b(Unknown Source)</div><div class="line">	at com.kaola.spring.common.net.j.a(Unknown Source)</div><div class="line">	at com.kaola.spring.common.net.a.a(Unknown Source)</div><div class="line">	at com.kaola.spring.common.net.a.a(Unknown Source)</div><div class="line">	at com.kaola.spring.common.net.a.a(Unknown Source)</div><div class="line">	at com.kaola.app.TimeChangeListener.onReceive(Unknown Source)</div><div class="line">	at android.app.ActivityThread.handleReceiver(ActivityThread.java:3634)</div><div class="line">	at android.app.ActivityThread.access<span class="variable">$2000</span>(ActivityThread.java:221)</div><div class="line">	at android.app.ActivityThread<span class="variable">$H</span>.handleMessage(ActivityThread.java:1876)</div><div class="line">	at android.os.Handler.dispatchMessage(Handler.java:102)</div><div class="line">	at android.os.Looper.loop(Looper.java:158)</div><div class="line">	at android.app.ActivityThread.main(ActivityThread.java:7224)</div><div class="line">	at java.lang.reflect.Method.invoke(Native Method)</div><div class="line">	at com.android.internal.os.ZygoteInit<span class="variable">$MethodAndArgsCaller</span>.<span class="builtin-name">run</span>(ZygoteInit.java:1230)</div><div class="line">	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)</div></pre></td></tr></table></figure>
<p>系统版本特点：5.0以上<br>机型分布特点：三星、魅族、索尼<br>原因分析：根据提示，<code>android.permission.INTERACT_ACROSS_USERS_FULL</code>权限未添加，与安全部门sdk有关。<br>解决办法：更新安全部门sdk</p>
<h2 id="java-lang-UnsatisfiedLinkError-Couldn’t-load-memchunk-from-loader-dalvik-system-PathClassLoader-DexPathList-zip-file-“-data-app-com-kaola-2-apk”-nativeLibraryDirectories-vendor-lib-system-lib-data-datalib-findLibrary-returned-null"><a href="#java-lang-UnsatisfiedLinkError-Couldn’t-load-memchunk-from-loader-dalvik-system-PathClassLoader-DexPathList-zip-file-“-data-app-com-kaola-2-apk”-nativeLibraryDirectories-vendor-lib-system-lib-data-datalib-findLibrary-returned-null" class="headerlink" title="java.lang.UnsatisfiedLinkError: Couldn’t load memchunk from loader dalvik.system.PathClassLoader[DexPathList[[zip file “/data/app/com.kaola-2.apk”],nativeLibraryDirectories=[/vendor/lib, /system/lib, /data/datalib]]]: findLibrary returned null"></a>java.lang.UnsatisfiedLinkError: Couldn’t load memchunk from loader dalvik.system.PathClassLoader[DexPathList[[zip file “/data/app/com.kaola-2.apk”],nativeLibraryDirectories=[/vendor/lib, /system/lib, /data/datalib]]]: findLibrary returned null</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">java.lang.UnsatisfiedLinkError: Couldn't <span class="keyword">load</span> memchunk <span class="keyword">from</span> loader dalvik.system.PathClassLoader[DexPathList[[zip <span class="keyword">file</span> <span class="string">"/data/app/com.kaola-2.apk"</span>],nativeLibraryDirectories=[/vendor/lib, /<span class="keyword">system</span>/lib, /<span class="keyword">data</span>/datalib]]]: findLibrary returned <span class="literal">null</span></div><div class="line">	<span class="keyword">at</span> java.lang.Runtime.loadLibrary(Runtime.java:<span class="number">358</span>)</div><div class="line">	<span class="keyword">at</span> java.lang.System.loadLibrary(System.java:<span class="number">555</span>)</div><div class="line">	<span class="keyword">at</span> com.facebook.common.soloader.SoLoaderShim$DefaultHandler.a(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> com.facebook.common.soloader.SoLoaderShim.a(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> com.facebook.imagepipeline.memory.NativeMemoryChunk.(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> com.facebook.imagepipeline.memory.NativeMemoryChunkPool.i(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> com.facebook.imagepipeline.memory.NativeMemoryChunkPool.b(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> com.facebook.imagepipeline.memory.BasePool.a(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> com.facebook.imagepipeline.memory.NativePooledByteBufferOutputStream.(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> com.facebook.imagepipeline.memory.NativePooledByteBufferFactory.a(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> com.facebook.imagepipeline.memory.NativePooledByteBufferFactory.b(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> com.facebook.imagepipeline.cache.BufferedDiskCache.b(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> com.facebook.imagepipeline.cache.BufferedDiskCache.a(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> com.facebook.imagepipeline.cache.BufferedDiskCache$<span class="number">2.</span>a(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> com.facebook.imagepipeline.cache.BufferedDiskCache$<span class="number">2.</span><span class="keyword">call</span>(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> bolts.f.run(<span class="keyword">Unknown</span> <span class="keyword">Source</span>)</div><div class="line">	<span class="keyword">at</span> java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:<span class="number">1112</span>)</div><div class="line">	<span class="keyword">at</span> java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:<span class="number">587</span>)</div><div class="line">	<span class="keyword">at</span> java.lang.Thread.run(Thread.java:<span class="number">841</span>)</div></pre></td></tr></table></figure>
<p>系统版本特点：4.4.2<br>机型分布特点：华为<br>原因分析：找不到native包<code>libmemchunk.so</code>。<br>Ref:<a href="https://github.com/facebook/fresco/issues/410" target="_blank" rel="noopener">https://github.com/facebook/fresco/issues/410</a></p>
<h2 id="java-lang-RuntimeException-startPreview-failed"><a href="#java-lang-RuntimeException-startPreview-failed" class="headerlink" title="java.lang.RuntimeException: startPreview failed"></a>java.lang.RuntimeException: startPreview failed</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.RuntimeException</span>: startPreview failed</div><div class="line">	at android<span class="selector-class">.hardware</span><span class="selector-class">.Camera</span><span class="selector-class">.startPreview</span>(Native Method)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.qrcode</span><span class="selector-class">.a</span><span class="selector-class">.c</span><span class="selector-class">.d</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.qrcode</span><span class="selector-class">.b</span><span class="selector-class">.a</span><span class="selector-class">.b</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.qrcode</span><span class="selector-class">.b</span><span class="selector-class">.a</span>.(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.qrcode</span><span class="selector-class">.QrCodeActivity</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.qrcode</span><span class="selector-class">.QrCodeActivity</span><span class="selector-class">.surfaceCreated</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.SurfaceView</span><span class="selector-class">.updateWindow</span>(SurfaceView<span class="selector-class">.java</span>:<span class="number">683</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.SurfaceView</span>$<span class="number">3</span>.onPreDraw(SurfaceView<span class="selector-class">.java</span>:<span class="number">200</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewTreeObserver</span><span class="selector-class">.dispatchOnPreDraw</span>(ViewTreeObserver<span class="selector-class">.java</span>:<span class="number">1018</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="selector-class">.performTraversals</span>(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">2260</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="selector-class">.doTraversal</span>(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">1265</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$TraversalRunnable</span>.run(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">6944</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.Choreographer</span><span class="variable">$CallbackRecord</span>.run(Choreographer<span class="selector-class">.java</span>:<span class="number">777</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.Choreographer</span><span class="selector-class">.doCallbacks</span>(Choreographer<span class="selector-class">.java</span>:<span class="number">590</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.Choreographer</span><span class="selector-class">.doFrame</span>(Choreographer<span class="selector-class">.java</span>:<span class="number">560</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.Choreographer</span><span class="variable">$FrameDisplayEventReceiver</span>.run(Choreographer<span class="selector-class">.java</span>:<span class="number">763</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.handleCallback</span>(Handler<span class="selector-class">.java</span>:<span class="number">739</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">95</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">145</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">6862</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">372</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">1404</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">1199</span>)</div></pre></td></tr></table></figure>
<p>系统版本特点：4.2.1以上<br>机型分布特点：魅族、华为、三星<br>原因分析：相机预览失败，可能是部分厂商修改了这部分源码（相机源码通常是被修改得最频繁的一部分代码）。<br>解决办法：方法签名<code>public native final void startPreview()</code>，已经涉及native层代码，目前处理方案只能在preview的时候try-catch并提醒用户预览失败。</p>
<hr>
<h1 id="Android其他版本较高崩溃率Bugs"><a href="#Android其他版本较高崩溃率Bugs" class="headerlink" title="Android其他版本较高崩溃率Bugs"></a>Android其他版本较高崩溃率Bugs</h1><h2 id="java-lang-RuntimeException-An-error-occured-while-executing-doInBackground-v2-1-2"><a href="#java-lang-RuntimeException-An-error-occured-while-executing-doInBackground-v2-1-2" class="headerlink" title="java.lang.RuntimeException: An error occured while executing doInBackground() (v2.1.2)"></a>java.lang.RuntimeException: An error occured while executing doInBackground() (v2.1.2)</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.RuntimeException</span>: An error occured while executing doInBackground()</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.AsyncTask</span>$<span class="number">3</span>.done(AsyncTask<span class="selector-class">.java</span>:<span class="number">304</span>)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.FutureTask</span><span class="selector-class">.finishCompletion</span>(FutureTask<span class="selector-class">.java</span>:<span class="number">355</span>)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.FutureTask</span><span class="selector-class">.setException</span>(FutureTask<span class="selector-class">.java</span>:<span class="number">222</span>)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.FutureTask</span><span class="selector-class">.run</span>(FutureTask<span class="selector-class">.java</span>:<span class="number">242</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.AsyncTask</span><span class="variable">$SerialExecutor</span>$<span class="number">1</span>.run(AsyncTask<span class="selector-class">.java</span>:<span class="number">231</span>)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.ThreadPoolExecutor</span><span class="selector-class">.runWorker</span>(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">1112</span>)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.ThreadPoolExecutor</span><span class="variable">$Worker</span>.run(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">587</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.Thread</span><span class="selector-class">.run</span>(Thread<span class="selector-class">.java</span>:<span class="number">818</span>)</div><div class="line">Caused by: java<span class="selector-class">.lang</span><span class="selector-class">.NullPointerException</span>: Attempt to invoke virtual method <span class="string">'com.netease.mobsecurity.impl.getInfo.IGenInfo com.netease.mobsecurity.impl.SecurityImplManager.getGenInfoComp()'</span> on <span class="selector-tag">a</span> null <span class="selector-tag">object</span> reference</div><div class="line">	at com<span class="selector-class">.netease</span><span class="selector-class">.mobsecurity</span><span class="selector-class">.interfacejni</span><span class="selector-class">.SecruityInfo</span>.(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.common</span><span class="selector-class">.utils</span><span class="selector-class">.g</span><span class="selector-class">.b</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.app</span><span class="selector-class">.d</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.app</span><span class="selector-class">.d</span><span class="selector-class">.doInBackground</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.AsyncTask</span>$<span class="number">2</span>.call(AsyncTask<span class="selector-class">.java</span>:<span class="number">292</span>)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.FutureTask</span><span class="selector-class">.run</span>(FutureTask<span class="selector-class">.java</span>:<span class="number">237</span>)</div><div class="line">	... <span class="number">4</span> more</div><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.NullPointerException</span>: Attempt to invoke virtual method <span class="string">'com.netease.mobsecurity.impl.getInfo.IGenInfo com.netease.mobsecurity.impl.SecurityImplManager.getGenInfoComp()'</span> on <span class="selector-tag">a</span> null <span class="selector-tag">object</span> reference</div><div class="line">	at com<span class="selector-class">.netease</span><span class="selector-class">.mobsecurity</span><span class="selector-class">.interfacejni</span><span class="selector-class">.SecruityInfo</span>.(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.common</span><span class="selector-class">.utils</span><span class="selector-class">.g</span><span class="selector-class">.b</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.app</span><span class="selector-class">.d</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.app</span><span class="selector-class">.d</span><span class="selector-class">.doInBackground</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.AsyncTask</span>$<span class="number">2</span>.call(AsyncTask<span class="selector-class">.java</span>:<span class="number">292</span>)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.FutureTask</span><span class="selector-class">.run</span>(FutureTask<span class="selector-class">.java</span>:<span class="number">237</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.AsyncTask</span><span class="variable">$SerialExecutor</span>$<span class="number">1</span>.run(AsyncTask<span class="selector-class">.java</span>:<span class="number">231</span>)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.ThreadPoolExecutor</span><span class="selector-class">.runWorker</span>(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">1112</span>)</div><div class="line">	at java<span class="selector-class">.util</span><span class="selector-class">.concurrent</span><span class="selector-class">.ThreadPoolExecutor</span><span class="variable">$Worker</span>.run(ThreadPoolExecutor<span class="selector-class">.java</span>:<span class="number">587</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.Thread</span><span class="selector-class">.run</span>(Thread<span class="selector-class">.java</span>:<span class="number">818</span>)</div></pre></td></tr></table></figure>
<p>原因分析：</p>
<pre><code>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &apos;com.netease.mobsecurity.impl.getInfo.IGenInfo com.netease.mobsecurity.impl.SecurityImplManager.getGenInfoComp()&apos; on a null object reference
</code></pre><p>安全部门sdk的问题，猜测是Activity或Application结束时AsyncTask还在执行，结束后报NPE异常。<br>解决办法：</p>
<ul>
<li>安全部门提供异步调用获取设备id方案。</li>
<li>DeviceInfoUtils.getDeviceId(getApplicationContext()); try-catch</li>
</ul>
<h2 id="java-lang-RuntimeException-Canvas-trying-to-use-a-recycled-bitmap-android-graphics-Bitmap-57a98e98-v2-4-2"><a href="#java-lang-RuntimeException-Canvas-trying-to-use-a-recycled-bitmap-android-graphics-Bitmap-57a98e98-v2-4-2" class="headerlink" title="java.lang.RuntimeException: Canvas: trying to use a recycled bitmap android.graphics.Bitmap@57a98e98 (v2.4.2)"></a>java.lang.RuntimeException: Canvas: trying to use a recycled bitmap android.graphics.Bitmap@57a98e98 (v2.4.2)</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.RuntimeException</span>: Canvas: trying to use <span class="selector-tag">a</span> recycled bitmap android<span class="selector-class">.graphics</span><span class="selector-class">.Bitmap</span>@<span class="number">57</span>a98e98</div><div class="line">	at android<span class="selector-class">.graphics</span><span class="selector-class">.Canvas</span><span class="selector-class">.throwIfRecycled</span>(Canvas<span class="selector-class">.java</span>:<span class="number">1026</span>)</div><div class="line">	at android<span class="selector-class">.graphics</span><span class="selector-class">.Canvas</span><span class="selector-class">.setBitmap</span>(Canvas<span class="selector-class">.java</span>:<span class="number">189</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.buildDrawingCache</span>(View<span class="selector-class">.java</span>:<span class="number">12978</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.getDrawingCache</span>(View<span class="selector-class">.java</span>:<span class="number">12796</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13450</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.drawChild</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2930</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchDraw</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2799</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13763</span>)</div><div class="line">	at android<span class="selector-class">.support</span><span class="selector-class">.v4</span><span class="selector-class">.view</span><span class="selector-class">.ViewPager</span><span class="selector-class">.draw</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13644</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.drawChild</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2930</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchDraw</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2799</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13642</span>)v</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.drawChild</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2930</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchDraw</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2799</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13642</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.drawChild</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2930</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchDraw</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2799</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13763</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13644</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.drawChild</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2930</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchDraw</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2799</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13642</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.drawChild</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2930</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchDraw</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2799</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13763</span>)</div><div class="line">	at android<span class="selector-class">.widget</span><span class="selector-class">.FrameLayout</span><span class="selector-class">.draw</span>(FrameLayout<span class="selector-class">.java</span>:<span class="number">467</span>)</div><div class="line">	at android<span class="selector-class">.widget</span><span class="selector-class">.ScrollView</span><span class="selector-class">.draw</span>(ScrollView<span class="selector-class">.java</span>:<span class="number">1588</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13644</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.drawChild</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2930</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchDraw</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2799</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13642</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.drawChild</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2930</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchDraw</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2799</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13642</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.drawChild</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2930</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchDraw</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2799</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13642</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.drawChild</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2930</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchDraw</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2799</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13763</span>)</div><div class="line">	at android<span class="selector-class">.widget</span><span class="selector-class">.FrameLayout</span><span class="selector-class">.draw</span>(FrameLayout<span class="selector-class">.java</span>:<span class="number">467</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13644</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.drawChild</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2930</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchDraw</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2799</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13642</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.drawChild</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2930</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewGroup</span><span class="selector-class">.dispatchDraw</span>(ViewGroup<span class="selector-class">.java</span>:<span class="number">2799</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.draw</span>(View<span class="selector-class">.java</span>:<span class="number">13763</span>)</div><div class="line">	at android<span class="selector-class">.widget</span><span class="selector-class">.FrameLayout</span><span class="selector-class">.draw</span>(FrameLayout<span class="selector-class">.java</span>:<span class="number">467</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.policy</span><span class="selector-class">.impl</span><span class="selector-class">.PhoneWindow</span><span class="variable">$DecorView</span>.draw(PhoneWindow<span class="selector-class">.java</span>:<span class="number">2211</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="selector-class">.drawSoftware</span>(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">2288</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="selector-class">.draw</span>(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">2184</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="selector-class">.performDraw</span>(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">2052</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="selector-class">.performTraversals</span>(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">1861</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="selector-class">.doTraversal</span>(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">996</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.ViewRootImpl</span><span class="variable">$TraversalRunnable</span>.run(ViewRootImpl<span class="selector-class">.java</span>:<span class="number">4358</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.Choreographer</span><span class="variable">$CallbackRecord</span>.run(Choreographer<span class="selector-class">.java</span>:<span class="number">749</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.Choreographer</span><span class="selector-class">.doCallbacks</span>(Choreographer<span class="selector-class">.java</span>:<span class="number">562</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.Choreographer</span><span class="selector-class">.doFrame</span>(Choreographer<span class="selector-class">.java</span>:<span class="number">532</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.Choreographer</span><span class="variable">$FrameDisplayEventReceiver</span>.run(Choreographer<span class="selector-class">.java</span>:<span class="number">735</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.handleCallback</span>(Handler<span class="selector-class">.java</span>:<span class="number">725</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">92</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">137</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5054</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invokeNative</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">511</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">793</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">560</span>)</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.NativeStart</span><span class="selector-class">.main</span>(Native Method)</div></pre></td></tr></table></figure>
<p>原因分析：调用了<code>mBitmap.recycle();</code>后继续使用这个<code>mBitmap</code>的相关方法。<br>解决办法：</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (mBitmap != <span class="literal">null</span> &amp;&amp; !mBitmap.isRecycled()) &#123;</div><div class="line">    mBitmap.recycle();</div><div class="line">    <span class="attr">mBitmap</span> = <span class="literal">null</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在使用<code>mBitmap</code>的时候记得判空。</p>
<h2 id="java-lang-IllegalStateException-Fragment-already-added-u-438fce18-1-id-0x7f0a009b"><a href="#java-lang-IllegalStateException-Fragment-already-added-u-438fce18-1-id-0x7f0a009b" class="headerlink" title="java.lang.IllegalStateException: Fragment already added: u{438fce18 #1 id=0x7f0a009b}"></a>java.lang.IllegalStateException: Fragment already added: u{438fce18 #1 id=0x7f0a009b}</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.IllegalStateException</span>: Fragment already added: u&#123;<span class="number">438</span>fce18 #<span class="number">1</span> id=<span class="number">0</span>x7f0a009b&#125;</div><div class="line">	at android<span class="selector-class">.support</span><span class="selector-class">.v4</span><span class="selector-class">.app</span><span class="selector-class">.q</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.support</span><span class="selector-class">.v4</span><span class="selector-class">.app</span><span class="selector-class">.d</span><span class="selector-class">.run</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.support</span><span class="selector-class">.v4</span><span class="selector-class">.app</span><span class="selector-class">.q</span><span class="selector-class">.f</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.support</span><span class="selector-class">.v4</span><span class="selector-class">.app</span><span class="selector-class">.r</span><span class="selector-class">.run</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.handleCallback</span>(Handler<span class="selector-class">.java</span>:<span class="number">733</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">95</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">136</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5315</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invokeNative</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">515</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">864</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">680</span>)</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.NativeStart</span><span class="selector-class">.main</span>(Native Method)</div></pre></td></tr></table></figure>
<p>原因分析：Fragment重复添加。<br>解决办法：添加前判断存在性，或使用replace方法。</p>
<h2 id="java-lang-NullPointerException"><a href="#java-lang-NullPointerException" class="headerlink" title="java.lang.NullPointerException"></a>java.lang.NullPointerException</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.NullPointerException</span></div><div class="line">	at android<span class="selector-class">.webkit</span><span class="selector-class">.WebViewClassic</span><span class="selector-class">.loadDataWithBaseURL</span>(WebViewClassic<span class="selector-class">.java</span>:<span class="number">3373</span>)</div><div class="line">	at android<span class="selector-class">.webkit</span><span class="selector-class">.WebView</span><span class="selector-class">.loadDataWithBaseURL</span>(WebView<span class="selector-class">.java</span>:<span class="number">852</span>)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.webview</span><span class="selector-class">.m</span><span class="selector-class">.run</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.handleCallback</span>(Handler<span class="selector-class">.java</span>:<span class="number">615</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">92</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">137</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">4898</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invokeNative</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">511</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">1008</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">775</span>)</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.NativeStart</span><span class="selector-class">.main</span>(Native Method)</div></pre></td></tr></table></figure>
<p>原因分析：调用loadDataWithBaseURL()加载网页的时候未判空。</p>
<h2 id="java-lang-IllegalStateException-Cannot-perform-this-operation-because-there-is-no-current-transaction"><a href="#java-lang-IllegalStateException-Cannot-perform-this-operation-because-there-is-no-current-transaction" class="headerlink" title="java.lang.IllegalStateException: Cannot perform this operation because there is no current transaction."></a>java.lang.IllegalStateException: Cannot perform this operation because there is no current transaction.</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.IllegalStateException</span>: Cannot perform this operation because there is no current transaction.</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteSession</span><span class="selector-class">.throwIfNoTransaction</span>(SQLiteSession<span class="selector-class">.java</span>:<span class="number">915</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteSession</span><span class="selector-class">.endTransaction</span>(SQLiteSession<span class="selector-class">.java</span>:<span class="number">398</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteDatabase</span><span class="selector-class">.endTransaction</span>(SQLiteDatabase<span class="selector-class">.java</span>:<span class="number">522</span>)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.stat</span><span class="selector-class">.n</span><span class="selector-class">.b</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.stat</span><span class="selector-class">.n</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.tencent</span><span class="selector-class">.stat</span><span class="selector-class">.q</span><span class="selector-class">.run</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.handleCallback</span>(Handler<span class="selector-class">.java</span>:<span class="number">725</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">92</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">153</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.HandlerThread</span><span class="selector-class">.run</span>(HandlerThread<span class="selector-class">.java</span>:<span class="number">60</span>)</div></pre></td></tr></table></figure>
<p>原因分析：可以调用多次beginTransaction()，但只能调用一次endTransaction()。这个异常就是调用多次endTransaction()造成的。</p>
<h2 id="android-database-sqlite-SQLiteException-Failed-to-change-locale-for-db-‘-data-data-com-kaola-databases-webview-db’-to-‘zh-CN’"><a href="#android-database-sqlite-SQLiteException-Failed-to-change-locale-for-db-‘-data-data-com-kaola-databases-webview-db’-to-‘zh-CN’" class="headerlink" title="android.database.sqlite.SQLiteException: Failed to change locale for db ‘/data/data/com.kaola/databases/webview.db’ to ‘zh_CN’."></a>android.database.sqlite.SQLiteException: Failed to change locale for db ‘/data/data/com.kaola/databases/webview.db’ to ‘zh_CN’.</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteException</span>: Failed to change locale <span class="keyword">for</span> db <span class="string">'/data/data/com.kaola/databases/webview.db'</span> to <span class="string">'zh_CN'</span>.</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnection</span><span class="selector-class">.setLocaleFromConfiguration</span>(SQLiteConnection<span class="selector-class">.java</span>:<span class="number">390</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnection</span><span class="selector-class">.open</span>(SQLiteConnection<span class="selector-class">.java</span>:<span class="number">218</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnection</span><span class="selector-class">.open</span>(SQLiteConnection<span class="selector-class">.java</span>:<span class="number">193</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnectionPool</span><span class="selector-class">.openConnectionLocked</span>(SQLiteConnectionPool<span class="selector-class">.java</span>:<span class="number">463</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnectionPool</span><span class="selector-class">.open</span>(SQLiteConnectionPool<span class="selector-class">.java</span>:<span class="number">185</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnectionPool</span><span class="selector-class">.open</span>(SQLiteConnectionPool<span class="selector-class">.java</span>:<span class="number">177</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteDatabase</span><span class="selector-class">.openInner</span>(SQLiteDatabase<span class="selector-class">.java</span>:<span class="number">804</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteDatabase</span><span class="selector-class">.open</span>(SQLiteDatabase<span class="selector-class">.java</span>:<span class="number">789</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteDatabase</span><span class="selector-class">.openDatabase</span>(SQLiteDatabase<span class="selector-class">.java</span>:<span class="number">694</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ContextImpl</span><span class="selector-class">.openOrCreateDatabase</span>(ContextImpl<span class="selector-class">.java</span>:<span class="number">976</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ContextImpl</span><span class="selector-class">.openOrCreateDatabase</span>(ContextImpl<span class="selector-class">.java</span>:<span class="number">965</span>)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.ContextWrapper</span><span class="selector-class">.openOrCreateDatabase</span>(ContextWrapper<span class="selector-class">.java</span>:<span class="number">240</span>)</div><div class="line">	at android<span class="selector-class">.webkit</span><span class="selector-class">.WebViewDatabaseClassic</span><span class="selector-class">.initDatabase</span>(WebViewDatabaseClassic<span class="selector-class">.java</span>:<span class="number">146</span>)</div><div class="line">	at android<span class="selector-class">.webkit</span><span class="selector-class">.WebViewDatabaseClassic</span><span class="selector-class">.init</span>(WebViewDatabaseClassic<span class="selector-class">.java</span>:<span class="number">130</span>)</div><div class="line">	at android<span class="selector-class">.webkit</span><span class="selector-class">.WebViewDatabaseClassic</span><span class="selector-class">.access</span>$<span class="number">000</span>(WebViewDatabaseClassic<span class="selector-class">.java</span>:<span class="number">35</span>)</div><div class="line">	at android<span class="selector-class">.webkit</span><span class="selector-class">.WebViewDatabaseClassic</span>$<span class="number">1</span>.run(WebViewDatabaseClassic<span class="selector-class">.java</span>:<span class="number">109</span>)</div><div class="line">Caused by: android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteFullException</span>: database or disk is full (<span class="selector-tag">code</span> <span class="number">13</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnection</span><span class="selector-class">.nativeExecute</span>(Native Method)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnection</span><span class="selector-class">.execute</span>(SQLiteConnection<span class="selector-class">.java</span>:<span class="number">552</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnection</span><span class="selector-class">.setLocaleFromConfiguration</span>(SQLiteConnection<span class="selector-class">.java</span>:<span class="number">364</span>)</div><div class="line">	... <span class="number">15</span> more</div><div class="line">android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteFullException</span>: database or disk is full (<span class="selector-tag">code</span> <span class="number">13</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnection</span><span class="selector-class">.nativeExecute</span>(Native Method)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnection</span><span class="selector-class">.execute</span>(SQLiteConnection<span class="selector-class">.java</span>:<span class="number">552</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnection</span><span class="selector-class">.setLocaleFromConfiguration</span>(SQLiteConnection<span class="selector-class">.java</span>:<span class="number">364</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnection</span><span class="selector-class">.open</span>(SQLiteConnection<span class="selector-class">.java</span>:<span class="number">218</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnection</span><span class="selector-class">.open</span>(SQLiteConnection<span class="selector-class">.java</span>:<span class="number">193</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnectionPool</span><span class="selector-class">.openConnectionLocked</span>(SQLiteConnectionPool<span class="selector-class">.java</span>:<span class="number">463</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnectionPool</span><span class="selector-class">.open</span>(SQLiteConnectionPool<span class="selector-class">.java</span>:<span class="number">185</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteConnectionPool</span><span class="selector-class">.open</span>(SQLiteConnectionPool<span class="selector-class">.java</span>:<span class="number">177</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteDatabase</span><span class="selector-class">.openInner</span>(SQLiteDatabase<span class="selector-class">.java</span>:<span class="number">804</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteDatabase</span><span class="selector-class">.open</span>(SQLiteDatabase<span class="selector-class">.java</span>:<span class="number">789</span>)</div><div class="line">	at android<span class="selector-class">.database</span><span class="selector-class">.sqlite</span><span class="selector-class">.SQLiteDatabase</span><span class="selector-class">.openDatabase</span>(SQLiteDatabase<span class="selector-class">.java</span>:<span class="number">694</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ContextImpl</span><span class="selector-class">.openOrCreateDatabase</span>(ContextImpl<span class="selector-class">.java</span>:<span class="number">976</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ContextImpl</span><span class="selector-class">.openOrCreateDatabase</span>(ContextImpl<span class="selector-class">.java</span>:<span class="number">965</span>)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.ContextWrapper</span><span class="selector-class">.openOrCreateDatabase</span>(ContextWrapper<span class="selector-class">.java</span>:<span class="number">240</span>)</div><div class="line">	at android<span class="selector-class">.webkit</span><span class="selector-class">.WebViewDatabaseClassic</span><span class="selector-class">.initDatabase</span>(WebViewDatabaseClassic<span class="selector-class">.java</span>:<span class="number">146</span>)</div><div class="line">	at android<span class="selector-class">.webkit</span><span class="selector-class">.WebViewDatabaseClassic</span><span class="selector-class">.init</span>(WebViewDatabaseClassic<span class="selector-class">.java</span>:<span class="number">130</span>)</div><div class="line">	at android<span class="selector-class">.webkit</span><span class="selector-class">.WebViewDatabaseClassic</span><span class="selector-class">.access</span>$<span class="number">000</span>(WebViewDatabaseClassic<span class="selector-class">.java</span>:<span class="number">35</span>)</div><div class="line">	at android<span class="selector-class">.webkit</span><span class="selector-class">.WebViewDatabaseClassic</span>$<span class="number">1</span>.run(WebViewDatabaseClassic<span class="selector-class">.java</span>:<span class="number">109</span>)</div></pre></td></tr></table></figure>
<p>原因分析：在生成数据库db文件的时候使用了A区域，在打开的时候默认使用B区域打开，如A=Locale.US，B=Locale.CHINA，会产生这种问题。<br>解决方法：</p>
<p>把</p>
<pre><code>myDatabase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READWRITE);
</code></pre><p>修改成：  </p>
<pre><code>myDatabase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.NO_LOCALIZED_COLLATORS | SQLiteDatabase.OPEN_READWRITE);
</code></pre><p>Ref：<a href="http://stackoverflow.com/questions/19491675/failed-to-change-locale-for-db-data-data-my-easymedi-controller-databases-easy" target="_blank" rel="noopener">http://stackoverflow.com/questions/19491675/failed-to-change-locale-for-db-data-data-my-easymedi-controller-databases-easy</a></p>
<h2 id="Unable-to-stop-activity-com-kaola-com-kaola-spring-ui-MainActivity-java-lang-IllegalArgumentException-View-not-attached-to-window-manager"><a href="#Unable-to-stop-activity-com-kaola-com-kaola-spring-ui-MainActivity-java-lang-IllegalArgumentException-View-not-attached-to-window-manager" class="headerlink" title="Unable to stop activity {com.kaola/com.kaola.spring.ui.MainActivity}: java.lang.IllegalArgumentException: View not attached to window manager"></a>Unable to stop activity {com.kaola/com.kaola.spring.ui.MainActivity}: java.lang.IllegalArgumentException: View not attached to window manager</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.RuntimeException</span>: Unable to stop activity &#123;com.kaola/com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.MainActivity</span>&#125;: java<span class="selector-class">.lang</span><span class="selector-class">.IllegalArgumentException</span>: View not attached to window manager</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.performStopActivityInner</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">3393</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.handleStopActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">3446</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.access</span>$<span class="number">900</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">171</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="variable">$H</span>.handleMessage(ActivityThread<span class="selector-class">.java</span>:<span class="number">1414</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">107</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">194</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5433</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invokeNative</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">525</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">853</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">620</span>)</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.NativeStart</span><span class="selector-class">.main</span>(Native Method)</div><div class="line">Caused by: java<span class="selector-class">.lang</span><span class="selector-class">.IllegalArgumentException</span>: View not attached to window manager</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.WindowManagerGlobal</span><span class="selector-class">.findViewLocked</span>(WindowManagerGlobal<span class="selector-class">.java</span>:<span class="number">385</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.WindowManagerGlobal</span><span class="selector-class">.removeView</span>(WindowManagerGlobal<span class="selector-class">.java</span>:<span class="number">287</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.WindowManagerImpl</span><span class="selector-class">.removeViewImmediate</span>(WindowManagerImpl<span class="selector-class">.java</span>:<span class="number">89</span>)</div><div class="line">	at android<span class="selector-class">.widget</span><span class="selector-class">.PopupWindow</span><span class="selector-class">.dismiss</span>(PopupWindow<span class="selector-class">.java</span>:<span class="number">1304</span>)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.MainActivity</span><span class="selector-class">.q</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.MainActivity</span><span class="selector-class">.onStop</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Instrumentation</span><span class="selector-class">.callActivityOnStop</span>(Instrumentation<span class="selector-class">.java</span>:<span class="number">1280</span>)</div><div class="line">	at com<span class="selector-class">.lbe</span><span class="selector-class">.security</span><span class="selector-class">.service</span><span class="selector-class">.core</span><span class="selector-class">.client</span><span class="selector-class">.b</span><span class="selector-class">.x</span><span class="selector-class">.callActivityOnStop</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.performStop</span>(Activity<span class="selector-class">.java</span>:<span class="number">5373</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.performStopActivityInner</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">3390</span>)</div><div class="line">	... <span class="number">11</span> more</div><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.IllegalArgumentException</span>: View not attached to window manager</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.WindowManagerGlobal</span><span class="selector-class">.findViewLocked</span>(WindowManagerGlobal<span class="selector-class">.java</span>:<span class="number">385</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.WindowManagerGlobal</span><span class="selector-class">.removeView</span>(WindowManagerGlobal<span class="selector-class">.java</span>:<span class="number">287</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.WindowManagerImpl</span><span class="selector-class">.removeViewImmediate</span>(WindowManagerImpl<span class="selector-class">.java</span>:<span class="number">89</span>)</div><div class="line">	at android<span class="selector-class">.widget</span><span class="selector-class">.PopupWindow</span><span class="selector-class">.dismiss</span>(PopupWindow<span class="selector-class">.java</span>:<span class="number">1304</span>)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.MainActivity</span><span class="selector-class">.q</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.MainActivity</span><span class="selector-class">.onStop</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Instrumentation</span><span class="selector-class">.callActivityOnStop</span>(Instrumentation<span class="selector-class">.java</span>:<span class="number">1280</span>)</div><div class="line">	at com<span class="selector-class">.lbe</span><span class="selector-class">.security</span><span class="selector-class">.service</span><span class="selector-class">.core</span><span class="selector-class">.client</span><span class="selector-class">.b</span><span class="selector-class">.x</span><span class="selector-class">.callActivityOnStop</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.performStop</span>(Activity<span class="selector-class">.java</span>:<span class="number">5373</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.performStopActivityInner</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">3390</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.handleStopActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">3446</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.access</span>$<span class="number">900</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">171</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="variable">$H</span>.handleMessage(ActivityThread<span class="selector-class">.java</span>:<span class="number">1414</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">107</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">194</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5433</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invokeNative</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">525</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">853</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">620</span>)</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.NativeStart</span><span class="selector-class">.main</span>(Native Method)</div></pre></td></tr></table></figure>
<p>原因分析：MainActivity在执行<code>onStop()</code>的同时，调用了<code>showFindHobbyPopWindow()</code>并启动新的Activity<br>解决办法：<code>isFinishing()</code>（没试过，不知道有没有用）</p>
<p>Ref：<a href="http://stackoverflow.com/questions/22924825/view-not-attached-to-window-manager-crash" target="_blank" rel="noopener">http://stackoverflow.com/questions/22924825/view-not-attached-to-window-manager-crash</a></p>
<h2 id="java-lang-IllegalStateException-Can-not-perform-this-action-after-onSaveInstanceState"><a href="#java-lang-IllegalStateException-Can-not-perform-this-action-after-onSaveInstanceState" class="headerlink" title="java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState"></a>java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.IllegalStateException</span>: Can not perform this action after onSaveInstanceState</div><div class="line">	at android<span class="selector-class">.support</span><span class="selector-class">.v4</span><span class="selector-class">.app</span><span class="selector-class">.s</span><span class="selector-class">.v</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.support</span><span class="selector-class">.v4</span><span class="selector-class">.app</span><span class="selector-class">.s</span><span class="selector-class">.d</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.support</span><span class="selector-class">.v4</span><span class="selector-class">.app</span><span class="selector-class">.n</span><span class="selector-class">.onBackPressed</span>(Unknown Source)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.common</span><span class="selector-class">.widgets</span><span class="selector-class">.f</span><span class="selector-class">.onClick</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="selector-class">.performClick</span>(View<span class="selector-class">.java</span>:<span class="number">5207</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.View</span><span class="variable">$PerformClick</span>.run(View<span class="selector-class">.java</span>:<span class="number">21177</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.handleCallback</span>(Handler<span class="selector-class">.java</span>:<span class="number">739</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">95</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">148</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5432</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Native Method)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">735</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">625</span>)</div></pre></td></tr></table></figure>
<p>原因分析：在调用onSaveInstanceState（猜测是替换掉当前的Fragment）和commitAllowingStateLoss的时候更新了UI线程。</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">void</span> <span class="title">checkStateLoss</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (mStateSaved) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(</div><div class="line">                <span class="string">"Can not perform this action after onSaveInstanceState"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (mNoTransactionsBecause != <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(</div><div class="line">                <span class="string">"Can not perform this action inside of "</span> + mNoTransactionsBecause);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>mStateSaved</code>只有在保存数据到<code>Parcel</code>的时候才会置为<code>true</code>。</p>
<p>Ref：<a href="http://stackoverflow.com/questions/17184653/commitallowingstateloss-in-fragment-activities" target="_blank" rel="noopener">http://stackoverflow.com/questions/17184653/commitallowingstateloss-in-fragment-activities</a></p>
<h2 id="java-lang-RuntimeException-Unable-to-start-activity-ComponentInfo-com-kaola-com-kaola-spring-ui-MainActivity-android-content-res-Resources-NotFoundException-File-res-layout-activity-main-xml-from-xml-type-layout-resource-ID-0x7f03003f"><a href="#java-lang-RuntimeException-Unable-to-start-activity-ComponentInfo-com-kaola-com-kaola-spring-ui-MainActivity-android-content-res-Resources-NotFoundException-File-res-layout-activity-main-xml-from-xml-type-layout-resource-ID-0x7f03003f" class="headerlink" title="java.lang.RuntimeException: Unable to start activity ComponentInfo{com.kaola/com.kaola.spring.ui.MainActivity}: android.content.res.Resources$NotFoundException: File res/layout/activity_main.xml from xml type layout resource ID #0x7f03003f"></a>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.kaola/com.kaola.spring.ui.MainActivity}: android.content.res.Resources$NotFoundException: File res/layout/activity_main.xml from xml type layout resource ID #0x7f03003f</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.RuntimeException</span>: Unable to start activity ComponentInfo&#123;com.kaola/com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.MainActivity</span>&#125;: android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="variable">$NotFoundException</span>: File res/layout/activity_main<span class="selector-class">.xml</span> from xml type layout resource ID #<span class="number">0</span>x7f03003f</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.performLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2187</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.handleLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2247</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.access</span>$<span class="number">800</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">138</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="variable">$H</span>.handleMessage(ActivityThread<span class="selector-class">.java</span>:<span class="number">1199</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">102</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">136</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5106</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invokeNative</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">515</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">818</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">634</span>)</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.NativeStart</span><span class="selector-class">.main</span>(Native Method)</div><div class="line">Caused by: android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="variable">$NotFoundException</span>: File res/layout/activity_main<span class="selector-class">.xml</span> from xml type layout resource ID #<span class="number">0</span>x7f03003f</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="selector-class">.loadXmlResourceParser</span>(Resources<span class="selector-class">.java</span>:<span class="number">2504</span>)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="selector-class">.loadXmlResourceParser</span>(Resources<span class="selector-class">.java</span>:<span class="number">2459</span>)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="selector-class">.getLayout</span>(Resources<span class="selector-class">.java</span>:<span class="number">982</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.LayoutInflater</span><span class="selector-class">.inflate</span>(LayoutInflater<span class="selector-class">.java</span>:<span class="number">395</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.LayoutInflater</span><span class="selector-class">.inflate</span>(LayoutInflater<span class="selector-class">.java</span>:<span class="number">353</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.policy</span><span class="selector-class">.impl</span><span class="selector-class">.PhoneWindow</span><span class="selector-class">.setContentView</span>(PhoneWindow<span class="selector-class">.java</span>:<span class="number">290</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.setContentView</span>(Activity<span class="selector-class">.java</span>:<span class="number">1940</span>)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.MainActivity</span><span class="selector-class">.onCreate</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.performCreate</span>(Activity<span class="selector-class">.java</span>:<span class="number">5242</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Instrumentation</span><span class="selector-class">.callActivityOnCreate</span>(Instrumentation<span class="selector-class">.java</span>:<span class="number">1087</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.performLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2151</span>)</div><div class="line">	... <span class="number">11</span> more</div><div class="line">Caused by: java<span class="selector-class">.io</span><span class="selector-class">.FileNotFoundException</span>: res/layout/activity_main<span class="selector-class">.xml</span></div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.AssetManager</span><span class="selector-class">.openXmlAssetNative</span>(Native Method)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.AssetManager</span><span class="selector-class">.openXmlBlockAsset</span>(AssetManager<span class="selector-class">.java</span>:<span class="number">504</span>)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="selector-class">.loadXmlResourceParser</span>(Resources<span class="selector-class">.java</span>:<span class="number">2486</span>)</div><div class="line">	... <span class="number">21</span> more</div><div class="line">android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="variable">$NotFoundException</span>: File res/layout/activity_main<span class="selector-class">.xml</span> from xml type layout resource ID #<span class="number">0</span>x7f03003f</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="selector-class">.loadXmlResourceParser</span>(Resources<span class="selector-class">.java</span>:<span class="number">2504</span>)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="selector-class">.loadXmlResourceParser</span>(Resources<span class="selector-class">.java</span>:<span class="number">2459</span>)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="selector-class">.getLayout</span>(Resources<span class="selector-class">.java</span>:<span class="number">982</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.LayoutInflater</span><span class="selector-class">.inflate</span>(LayoutInflater<span class="selector-class">.java</span>:<span class="number">395</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.LayoutInflater</span><span class="selector-class">.inflate</span>(LayoutInflater<span class="selector-class">.java</span>:<span class="number">353</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.policy</span><span class="selector-class">.impl</span><span class="selector-class">.PhoneWindow</span><span class="selector-class">.setContentView</span>(PhoneWindow<span class="selector-class">.java</span>:<span class="number">290</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.setContentView</span>(Activity<span class="selector-class">.java</span>:<span class="number">1940</span>)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.MainActivity</span><span class="selector-class">.onCreate</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.performCreate</span>(Activity<span class="selector-class">.java</span>:<span class="number">5242</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Instrumentation</span><span class="selector-class">.callActivityOnCreate</span>(Instrumentation<span class="selector-class">.java</span>:<span class="number">1087</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.performLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2151</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.handleLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2247</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.access</span>$<span class="number">800</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">138</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="variable">$H</span>.handleMessage(ActivityThread<span class="selector-class">.java</span>:<span class="number">1199</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">102</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">136</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5106</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invokeNative</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">515</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">818</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">634</span>)</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.NativeStart</span><span class="selector-class">.main</span>(Native Method)</div><div class="line">Caused by: java<span class="selector-class">.io</span><span class="selector-class">.FileNotFoundException</span>: res/layout/activity_main<span class="selector-class">.xml</span></div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.AssetManager</span><span class="selector-class">.openXmlAssetNative</span>(Native Method)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.AssetManager</span><span class="selector-class">.openXmlBlockAsset</span>(AssetManager<span class="selector-class">.java</span>:<span class="number">504</span>)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="selector-class">.loadXmlResourceParser</span>(Resources<span class="selector-class">.java</span>:<span class="number">2486</span>)</div><div class="line">	... <span class="number">21</span> more</div><div class="line">java<span class="selector-class">.io</span><span class="selector-class">.FileNotFoundException</span>: res/layout/activity_main<span class="selector-class">.xml</span></div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.AssetManager</span><span class="selector-class">.openXmlAssetNative</span>(Native Method)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.AssetManager</span><span class="selector-class">.openXmlBlockAsset</span>(AssetManager<span class="selector-class">.java</span>:<span class="number">504</span>)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="selector-class">.loadXmlResourceParser</span>(Resources<span class="selector-class">.java</span>:<span class="number">2486</span>)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="selector-class">.loadXmlResourceParser</span>(Resources<span class="selector-class">.java</span>:<span class="number">2459</span>)</div><div class="line">	at android<span class="selector-class">.content</span><span class="selector-class">.res</span><span class="selector-class">.Resources</span><span class="selector-class">.getLayout</span>(Resources<span class="selector-class">.java</span>:<span class="number">982</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.LayoutInflater</span><span class="selector-class">.inflate</span>(LayoutInflater<span class="selector-class">.java</span>:<span class="number">395</span>)</div><div class="line">	at android<span class="selector-class">.view</span><span class="selector-class">.LayoutInflater</span><span class="selector-class">.inflate</span>(LayoutInflater<span class="selector-class">.java</span>:<span class="number">353</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.policy</span><span class="selector-class">.impl</span><span class="selector-class">.PhoneWindow</span><span class="selector-class">.setContentView</span>(PhoneWindow<span class="selector-class">.java</span>:<span class="number">290</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.setContentView</span>(Activity<span class="selector-class">.java</span>:<span class="number">1940</span>)</div><div class="line">	at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.MainActivity</span><span class="selector-class">.onCreate</span>(Unknown Source)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Activity</span><span class="selector-class">.performCreate</span>(Activity<span class="selector-class">.java</span>:<span class="number">5242</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.Instrumentation</span><span class="selector-class">.callActivityOnCreate</span>(Instrumentation<span class="selector-class">.java</span>:<span class="number">1087</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.performLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2151</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.handleLaunchActivity</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">2247</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.access</span>$<span class="number">800</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">138</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="variable">$H</span>.handleMessage(ActivityThread<span class="selector-class">.java</span>:<span class="number">1199</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">102</span>)</div><div class="line">	at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">136</span>)</div><div class="line">	at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5106</span>)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invokeNative</span>(Native Method)</div><div class="line">	at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">515</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">818</span>)</div><div class="line">	at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">634</span>)</div><div class="line">	at dalvik<span class="selector-class">.system</span><span class="selector-class">.NativeStart</span><span class="selector-class">.main</span>(Native Method)</div></pre></td></tr></table></figure>
<p>原因分析：这个问题发生的比较诡异，机型不固定，系统版本不固定。目前只有几个资源文件找不到：</p>
<ul>
<li><code>res/drawable-xxhdpi-v4/ic_comment_praise_unclick.png</code></li>
<li><code>res/layout/activity_main.xml</code></li>
<li><code>res/drawable-xxhdpi-v4/aftersale_select_logistics.png</code></li>
<li><code>res/anim/home_search_view_in.xml</code></li>
<li><code>res/drawable-xxhdpi-v4/bg_splash.png</code></li>
<li><code>res/drawable-xxhdpi-v4/ic_goods_detail_share_white.png</code></li>
<li><code>res/drawable-xhdpi-v4/home_search_icon.png</code></li>
</ul>
<p>大部分是去v4这个包下面去找资源，但我们的配置里好像没有资源文件是放在v4文件夹下面的。猜测可能是系统厂商改了获取资源路径的源码导致获取失败。</p>
<h2 id="java-lang-IllegalArgumentException-View-com-android-internal-policy-impl-PhoneWindow-DecorView-24e9c19a-V-E…-R……D-0-0-1026-348-not-attached-to-window-manager"><a href="#java-lang-IllegalArgumentException-View-com-android-internal-policy-impl-PhoneWindow-DecorView-24e9c19a-V-E…-R……D-0-0-1026-348-not-attached-to-window-manager" class="headerlink" title="java.lang.IllegalArgumentException: View=com.android.internal.policy.impl.PhoneWindow$DecorView{24e9c19a V.E….. R……D 0,0-1026,348} not attached to window manager"></a>java.lang.IllegalArgumentException: View=com.android.internal.policy.impl.PhoneWindow$DecorView{24e9c19a V.E….. R……D 0,0-1026,348} not attached to window manager</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">java<span class="selector-class">.lang</span><span class="selector-class">.IllegalArgumentException</span>: View=com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.policy</span><span class="selector-class">.impl</span><span class="selector-class">.PhoneWindow</span><span class="variable">$DecorView</span>&#123;<span class="number">24</span>e9c19a V<span class="selector-class">.E</span>..... R.....<span class="selector-class">.D</span> <span class="number">0</span>,<span class="number">0</span>-<span class="number">1026</span>,<span class="number">348</span>&#125; not attached to window manager</div><div class="line">at android<span class="selector-class">.view</span><span class="selector-class">.WindowManagerGlobal</span><span class="selector-class">.findViewLocked</span>(WindowManagerGlobal<span class="selector-class">.java</span>:<span class="number">403</span>)</div><div class="line">at android<span class="selector-class">.view</span><span class="selector-class">.WindowManagerGlobal</span><span class="selector-class">.removeView</span>(WindowManagerGlobal<span class="selector-class">.java</span>:<span class="number">322</span>)</div><div class="line">at android<span class="selector-class">.view</span><span class="selector-class">.WindowManagerImpl</span><span class="selector-class">.removeViewImmediate</span>(WindowManagerImpl<span class="selector-class">.java</span>:<span class="number">84</span>)</div><div class="line">at android<span class="selector-class">.app</span><span class="selector-class">.Dialog</span><span class="selector-class">.dismissDialog</span>(Dialog<span class="selector-class">.java</span>:<span class="number">368</span>)</div><div class="line">at android<span class="selector-class">.app</span><span class="selector-class">.Dialog</span><span class="selector-class">.dismiss</span>(Dialog<span class="selector-class">.java</span>:<span class="number">351</span>)</div><div class="line">at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.kaola</span><span class="selector-class">.AvatarNicknameSetActivity</span><span class="selector-class">.e</span>(Unknown Source)</div><div class="line">at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.kaola</span><span class="selector-class">.AvatarNicknameSetActivity</span><span class="selector-class">.c</span>(Unknown Source)</div><div class="line">at com<span class="selector-class">.kaola</span><span class="selector-class">.spring</span><span class="selector-class">.ui</span><span class="selector-class">.kaola</span><span class="selector-class">.d</span><span class="selector-class">.a</span>(Unknown Source)</div><div class="line">at com<span class="selector-class">.kaola</span><span class="selector-class">.common</span><span class="selector-class">.c</span><span class="selector-class">.d</span><span class="variable">$b</span>.handleMessage(Unknown Source)</div><div class="line">at android<span class="selector-class">.os</span><span class="selector-class">.Handler</span><span class="selector-class">.dispatchMessage</span>(Handler<span class="selector-class">.java</span>:<span class="number">102</span>)</div><div class="line">at android<span class="selector-class">.os</span><span class="selector-class">.Looper</span><span class="selector-class">.loop</span>(Looper<span class="selector-class">.java</span>:<span class="number">135</span>)</div><div class="line">at android<span class="selector-class">.app</span><span class="selector-class">.ActivityThread</span><span class="selector-class">.main</span>(ActivityThread<span class="selector-class">.java</span>:<span class="number">5539</span>)</div><div class="line">at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Native Method)</div><div class="line">at java<span class="selector-class">.lang</span><span class="selector-class">.reflect</span><span class="selector-class">.Method</span><span class="selector-class">.invoke</span>(Method<span class="selector-class">.java</span>:<span class="number">372</span>)</div><div class="line">at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="variable">$MethodAndArgsCaller</span>.run(ZygoteInit<span class="selector-class">.java</span>:<span class="number">960</span>)</div><div class="line">at com<span class="selector-class">.android</span><span class="selector-class">.internal</span><span class="selector-class">.os</span><span class="selector-class">.ZygoteInit</span><span class="selector-class">.main</span>(ZygoteInit<span class="selector-class">.java</span>:<span class="number">755</span>)</div></pre></td></tr></table></figure>
<p>原因分析：非常典型的Activity已经被<code>finish()</code>，但Dialog还没有被<code>dimiss()</code>造成的异常。<br>解决办法：在<code>onPause()</code>或<code>onStop()</code>方法调用<code>Dialog.dismiss()</code>。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong>Post author:</strong>
      Xing Li
    </li>
    <li class="post-copyright-link">
      <strong>Post link:</strong>
      <a href="http://iluhcm.com/2016/05/19/analysis-and-solutions-of-online-bugs-for-android-application/" title="Android应用线上崩溃Bug分析及解决方案">http://iluhcm.com/2016/05/19/analysis-and-solutions-of-online-bugs-for-android-application/</a>
    </li>
    <li class="post-copyright-license">
      <strong>Copyright Notice: </strong>
      All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> unless stating additionally.
    </li>
  </ul>


      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Android/" rel="tag"># Android</a>
          
            <a href="/tags/Bug/" rel="tag"># Bug</a>
          
            <a href="/tags/Online/" rel="tag"># Online</a>
          
            <a href="/tags/Exception/" rel="tag"># Exception</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/03/24/before-graduation/" rel="next" title="写在毕业之前">
                <i class="fa fa-chevron-left"></i> 写在毕业之前
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/07/06/how-to-open-a-hyperlink-using-app-webview-with-textview/" rel="prev" title="使用Android内置WebView打开TextView中的超链接">
                使用Android内置WebView打开TextView中的超链接 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div id="sidebar-dimmer"></div>
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.png"
               alt="Xing Li" />
          <p class="site-author-name" itemprop="name">Xing Li</p>
           
              <p class="site-description motion-element" itemprop="description">If asked how the pond can be so lucid and fresh, told that sources with flowing water replenish.</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">24</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">75</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/iluhcm" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/xing.li.731135" target="_blank" title="Facebook">
                  
                    <i class="fa fa-fw fa-facebook"></i>
                  
                  Facebook
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/iluhcm" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://plus.google.com/101164893136136383839/posts" target="_blank" title="Google+">
                  
                    <i class="fa fa-fw fa-google-plus"></i>
                  
                  Google+
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/lshcm" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/iluhcm" target="_blank" title="Zhihu">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Zhihu
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://music.163.com/#/user/home?id=38148117" target="_blank" title="Netease">
                  
                    <i class="fa fa-fw fa-music"></i>
                  
                  Netease
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Android-v2-5-2"><span class="nav-number">1.</span> <span class="nav-text">Android v2.5.2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-OutOfMemoryError-Failed-to-allocate-a-2560012-byte-allocation-with-2300136-free-bytes-and-2MB-until-OOM"><span class="nav-number">1.1.</span> <span class="nav-text">java.lang.OutOfMemoryError: Failed to allocate a 2560012 byte allocation with 2300136 free bytes and 2MB until OOM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-RuntimeException-Unable-to-start-activity-ComponentInfo-com-kaola-com-kaola-spring-ui-kaola-InterestedCategoryActivity-java-lang-NullPointerException-Attempt-to-read-from-field-‘com-android-server-am-ActivityStackSupervisor-com-android-server-am-ActivityRecord-mStackSupervisor’-on-a-null-object-reference"><span class="nav-number">1.2.</span> <span class="nav-text">java.lang.RuntimeException: Unable to start activity ComponentInfo{com.kaola/com.kaola.spring.ui.kaola.InterestedCategoryActivity}: java.lang.NullPointerException: Attempt to read from field ‘com.android.server.am.ActivityStackSupervisor com.android.server.am.ActivityRecord.mStackSupervisor’ on a null object reference</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-OutOfMemoryError-Failed-to-allocate-a-2560012-byte-allocation-with-2300136-free-bytes-and-2MB-until-OOM-1"><span class="nav-number">1.3.</span> <span class="nav-text">java.lang.OutOfMemoryError: Failed to allocate a 2560012 byte allocation with 2300136 free bytes and 2MB until OOM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-NoClassDefFoundError-com-facebook-imagepipeline-memory-NativeMemoryChunk"><span class="nav-number">1.4.</span> <span class="nav-text">java.lang.NoClassDefFoundError: com/facebook/imagepipeline/memory/NativeMemoryChunk</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-RuntimeException-Unable-to-start-activity-ComponentInfo-com-kaola-com-kaola-spring-ui-goodsdetail-SkuPopWindowActivity-java-lang-NumberFormatException-Invalid-double-“5-712”"><span class="nav-number">1.5.</span> <span class="nav-text">java.lang.RuntimeException: Unable to start activity ComponentInfo{com.kaola/com.kaola.spring.ui.goodsdetail.SkuPopWindowActivity}: java.lang.NumberFormatException: Invalid double: “5,712”</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-IllegalArgumentException-pointerIndex-out-of-range"><span class="nav-number">1.6.</span> <span class="nav-text">java.lang.IllegalArgumentException: pointerIndex out of range</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-UnsatisfiedLinkError-dlopen-failed-“-data-data-com-kaola-app-lib-libnelogin-so”-is-too-small-to-be-an-ELF-executable"><span class="nav-number">1.7.</span> <span class="nav-text">java.lang.UnsatisfiedLinkError: dlopen failed: “/data/data/com.kaola/app_lib/libnelogin.so” is too small to be an ELF executable</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-ExceptionInInitializerError"><span class="nav-number">1.8.</span> <span class="nav-text">java.lang.ExceptionInInitializerError</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-RuntimeException-Unable-to-start-receiver-com-kaola-app-TimeChangeListener-java-lang-SecurityException-Permission-Denial-get-set-setting-for-user-asks-to-run-as-user-0-but-is-calling-from-user-100-this-requires-android-permission-INTERACT-ACROSS-USERS-FULL"><span class="nav-number">1.9.</span> <span class="nav-text">java.lang.RuntimeException: Unable to start receiver com.kaola.app.TimeChangeListener: java.lang.SecurityException: Permission Denial: get/set setting for user asks to run as user 0 but is calling from user 100; this requires android.permission.INTERACT_ACROSS_USERS_FULL</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-UnsatisfiedLinkError-Couldn’t-load-memchunk-from-loader-dalvik-system-PathClassLoader-DexPathList-zip-file-“-data-app-com-kaola-2-apk”-nativeLibraryDirectories-vendor-lib-system-lib-data-datalib-findLibrary-returned-null"><span class="nav-number">1.10.</span> <span class="nav-text">java.lang.UnsatisfiedLinkError: Couldn’t load memchunk from loader dalvik.system.PathClassLoader[DexPathList[[zip file “/data/app/com.kaola-2.apk”],nativeLibraryDirectories=[/vendor/lib, /system/lib, /data/datalib]]]: findLibrary returned null</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-RuntimeException-startPreview-failed"><span class="nav-number">1.11.</span> <span class="nav-text">java.lang.RuntimeException: startPreview failed</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Android其他版本较高崩溃率Bugs"><span class="nav-number">2.</span> <span class="nav-text">Android其他版本较高崩溃率Bugs</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-RuntimeException-An-error-occured-while-executing-doInBackground-v2-1-2"><span class="nav-number">2.1.</span> <span class="nav-text">java.lang.RuntimeException: An error occured while executing doInBackground() (v2.1.2)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-RuntimeException-Canvas-trying-to-use-a-recycled-bitmap-android-graphics-Bitmap-57a98e98-v2-4-2"><span class="nav-number">2.2.</span> <span class="nav-text">java.lang.RuntimeException: Canvas: trying to use a recycled bitmap android.graphics.Bitmap@57a98e98 (v2.4.2)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-IllegalStateException-Fragment-already-added-u-438fce18-1-id-0x7f0a009b"><span class="nav-number">2.3.</span> <span class="nav-text">java.lang.IllegalStateException: Fragment already added: u{438fce18 #1 id=0x7f0a009b}</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-NullPointerException"><span class="nav-number">2.4.</span> <span class="nav-text">java.lang.NullPointerException</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-IllegalStateException-Cannot-perform-this-operation-because-there-is-no-current-transaction"><span class="nav-number">2.5.</span> <span class="nav-text">java.lang.IllegalStateException: Cannot perform this operation because there is no current transaction.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#android-database-sqlite-SQLiteException-Failed-to-change-locale-for-db-‘-data-data-com-kaola-databases-webview-db’-to-‘zh-CN’"><span class="nav-number">2.6.</span> <span class="nav-text">android.database.sqlite.SQLiteException: Failed to change locale for db ‘/data/data/com.kaola/databases/webview.db’ to ‘zh_CN’.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Unable-to-stop-activity-com-kaola-com-kaola-spring-ui-MainActivity-java-lang-IllegalArgumentException-View-not-attached-to-window-manager"><span class="nav-number">2.7.</span> <span class="nav-text">Unable to stop activity {com.kaola/com.kaola.spring.ui.MainActivity}: java.lang.IllegalArgumentException: View not attached to window manager</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-IllegalStateException-Can-not-perform-this-action-after-onSaveInstanceState"><span class="nav-number">2.8.</span> <span class="nav-text">java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-RuntimeException-Unable-to-start-activity-ComponentInfo-com-kaola-com-kaola-spring-ui-MainActivity-android-content-res-Resources-NotFoundException-File-res-layout-activity-main-xml-from-xml-type-layout-resource-ID-0x7f03003f"><span class="nav-number">2.9.</span> <span class="nav-text">java.lang.RuntimeException: Unable to start activity ComponentInfo{com.kaola/com.kaola.spring.ui.MainActivity}: android.content.res.Resources$NotFoundException: File res/layout/activity_main.xml from xml type layout resource ID #0x7f03003f</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-lang-IllegalArgumentException-View-com-android-internal-policy-impl-PhoneWindow-DecorView-24e9c19a-V-E…-R……D-0-0-1026-348-not-attached-to-window-manager"><span class="nav-number">2.10.</span> <span class="nav-text">java.lang.IllegalArgumentException: View=com.android.internal.policy.impl.PhoneWindow$DecorView{24e9c19a V.E….. R……D 0,0-1026,348} not attached to window manager</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xing Li</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://iluhcm-com.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://iluhcm.com/2016/05/19/analysis-and-solutions-of-online-bugs-for-android-application/';
          this.page.identifier = '2016/05/19/analysis-and-solutions-of-online-bugs-for-android-application/';
          this.page.title = 'Android应用线上崩溃Bug分析及解决方案';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://iluhcm-com.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  








  





  

  

  

  

  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.1"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.1"></script>


  

</body>
</html>
